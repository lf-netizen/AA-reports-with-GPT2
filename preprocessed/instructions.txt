SIEMENS0S00z0panelem0operatorskim0konfiguracja0sprzêtu0Cel0æwiczenia0Zapoznanie0siê0ze0œrodowiskiem0TIA0PORTAL0konfiguracja0had0rwareu0i0uruchomienie0prostego0programu0sterowania0logicznego0z0aplikacj¹0SCADA.0Proponowany0sposób0wykonania0æwiczenia0.0Konfiguracja0sprzêtu0Uruchomiæ0TIA,0otworzyæ0nowy0projekt0pod0dowoln¹0nazw¹.0Dokonaæ0przyk³adowej0konfiguracji0sprzêtu0dla0budowane0j0aplikacji0zgodnie0z0konfiguracj¹0rzeczywistych0sterowników0w0laboratorium.0Konfiguracja0jest0podana0w0tabeli0.0CPU0nale¿y0dodaæ0na0etapie0kreacji0nowego0projektu,0jest0ona0do0znalezienia0w0zak³adce0Add0new0device0SIMATIC0S00CPU0i0tam0znaleŸæ0w³a0œciw¹.0Panel0HMI0Add0new0device0HMI0SIMATIC0SIMATIC0Basic0Panel0i0tam0znaleŸæ0w³aœciwy0nr0w0tabeli0..0Pozosta³e0modu³y0nale¿y0znaleŸæ0w0katalogu0w0zak³adce0Hardware0catalog0jest0po0prawej0stronie0z0boku.0Mog¹0one0byæ0do³¹czane0po0wyborze0opcji0D0evice0Configuration,0switch0po0wyborze0opcji0Topology0view0UWAGA0Podczas0wyboru0ka¿dego0elementu0zwracaæ0uwagê0na0numer0katalogowy0bo0tylko0on0jednoznacznie0okreœla0dany0element0Dokonaæ0konfiguracji0kolejno0poszczegól0nych0modu³ów0Jednostka0centralna0slot00Konfiguracja0portu0sieciowego0Profinet0Interface0X0dodaæ0now¹0podsieæ,0wybraæ0opcjê0ustawienia0adresu0IP0w0projekcie0jest0proponowany0domyœlny,0zostawiamy0go.0Czas0cyklu0CPU0pozostawiamy0domyœlny00m0s.0Wejœcie0PWM0UWAGA0Tylko0przy0tych0stanowiskach0z0zainstalowanym0modu³em0PWM0aktywujemy0generator0PWM,0sygna³0typu0PWM,0czas0cyklu0ms,0podstawowe0wype³nienie0,0adres0wyjœcia0Q.,0zapisujemy0i0pamiêtamy0identyfikator0sprzêtu00bêdzi0e0potrzebny0do0aktywacji0FB0wspó³pracuj¹cego0z0tym0generatorem0æwiczenie0z0lewitacj¹0powietrzn¹.0Modu³0wejœæ0analogowych0slot00Na0wszystkich0kana³ach0ustawiæ0typ0czujnika0termometr0rezystancyjny0po³¹czony00przewodowo,0Pt00standard0Range,0skal0a0w0stopniach0Celsiusza,0filtracja0s³aba,0sygnalizacja0uszkodzenia0przewodu0nieaktywna.0Sprawdziæ0zakresy0adresów0wejœciowych0IW0od00do00Modu³0wyjœæ0analogowych0slot00W0obu0kana³ach0w0zak³adce0AQ0Outputs0ustawiæ0typ0sygna³ów0wyjœciowych0napiêcie00V,0przy0STOP0CPU0prze³¹czyæ0na0wartoœæ0zastêpcz¹0.V.0W0zak³adce0IO0Tags0odczytaæ0i0zapamiêtaæ0adresy0poszczególnych0wyjœæ,0powinny0byæ0QW0od00do0.0UWAGA0Tu0jest0podana0tylko0wstêpna0konfiguracja.0Przy0poszczególnych0æwiczeniac0h0bêdzie0ona0musia³a0byæ0rozbudowywana0bêdzie0to0podane0w0instrukcjach.0Panel0operatorski0Na0etapie0konfiguracji0sprzêtu0nie0wymaga0on0dodatkowych0czynnoœci.0Switch0sieciowy0Nie0wymaga0dodatkowych0dzia³añ0podczas0konfiguracji0sprzêtu.0Po0wprowadzeniu0wszystkich0elementów0nale¿y0je0po³¹czyæ0w0sieæ0zgodnie0ze0schematem0.Prosty0program0sterowania0logicznego0Program0ma0byæ0zbudowany,0za³adowany0i0uruchomiony0na0rzeczywistym0zestawie0sterownikowym0z0panelem,0testy0nale¿y0wykonaæ0z0u¿yciem0panelu.0Algorytm0sterowania0Otworzyæ0tabelê0z0nazwami0symbolicznymi0PLC0Tags0i0zdefiniowaæ0nazwy0zmiennych0u¿ytych0do0testów.0Jak0adresy0wejœæ0wpisaæ0np.0M.,0M0.,0M0.,0M.0i0nazwy0odpowiednio0start0gotów0awaria0stop.0S¹0to0zmienne0wewnêtrzne0PLC,0które0bêd¹0ustawiane0poprzez0przyciski0na0panelu0W0typowej0sytuacji0s¹0to0wejœcia0binarne.0Jako0adresy0wyjœciowe0nale¿y0u¿yæ0Q.0napêd0ON,0jako0Q.0praca.0Wyjœcia0maj¹0byæ0mo¿liwe0do0obserwacji0na0panelu0poprzez0animacje0odpowiednich0elementów0graficznych,0np0lampek.0W0projekcie0otworzyæ0plik0Ÿród³owy0bloku0orga0nizacyjnego0OB0Ob0Main.0Z0wykorzystaniem0styków0i0cewek0zrealizowaæ0funkcje0logiczne0Napêd0ON0gotow0start0NOT0awaria0pracanapêd0ON0WSKAZÓWKI0iloczyn0logiczny0r0ealizujemy0jako0szeregowe0po³¹czenie0styków,0sumê0realizujemy0jako0po³¹czenie0równoleg³e.0Zmienna0wejœciowa0wprost0to0styk0normalnie0otwarty,0zmienna0zanegowana0to0styk0normalnie0zamkniêty.0Zmienna0wyjœciowa0wprost0to0cewka0zwyk³a,0zmienna0wyjœciowa0zanego0wana0to0cewka0neguj¹ca.0Ka¿de0wyjœcie0to0osobny0szczebel0w0schemacie0drabinkowym.0Aplikacja0SCADA0na0panelu0operatorskim0Dodaæ0do0projektu0panel0operatorski0HMI0i0otworzyæ0domyœlny0ekran0aplikacji0Screen.0Zdefiniowaæ0na0tym0ekranie0mo¿liwoœæ0zad0awania0wartoœci0zmiennych0gotow0,0start0i0awaria.0Przyk³adowo0Zmienn¹0gotow0przypisaæ0do0standardowego0przycisku0LibrariesButtons0andSwitchesMaster0CopiesPushbutton0wybraæ0jeden.0Otworzyæ0w³asnoœci0przycisku0zaznaczyæ0go,0przycisn¹æ0przycisk0flo0at0obok0properties0powi¹zaæ0go0z0gotow0.0Zmienn¹0start0powi¹zaæ0z0przyciskiem0funkcyjnym0F0PropoertiesEventsPress0Key0Edit0bits0SetBit0start.0Do0zmiennej0awaria0przypisaæ0grzybek0bezpieczeñstwa0Pusbutton0Emergency.0Zmienn¹0wyjœ0ciow¹0napedON0powi¹zaæ0z0lampk¹0sygnalizacyjn¹0zbudowan¹0samodzielnie0np.0z0podstawowego0obiektu0typu0elipsa0Floatbasic0objects0AnimationsAppearance0zdef0iniowaæ0napedON0i0z0wartoœci¹00skojarzyæ0kolor0np.0czerwony0a0z0wartoœci¹00skojarzyæ0kolor0zielony.0Dodaæ0p0odpisy0do0zmiennych0z0u¿yciem0elementarnego0pola0tekstowego.0W0przypadku0podpisu0zmiennej0napedON0zdefiniowaæ,0¿eby0podpis0pojawia³0siê0tylko0wtedy,0gdy0napêd0jest0uruchomiony0naped0wlaczony0add0new0animationvisibility0i0zakres0od00do0.0W0przypad0ku0pozosta³ych0zmiennych0podpisy0pozostawiæ0statyczne0nie0wi¹zaæ0ich0z0¿adnymi0animacjami.0Zbudowany0program0za³adowaæ0na0sterownik0i0panel,0sprawdziæ0dzia³anie0zadaj¹c0odpowiedni0wartoœci0na0wejœcia0i0obserwuj¹c0wyjœcia.0Dzia³anie0programu0nale¿y0obse0rwowaæ0dwiema0metodami0musz¹0oczywiœcie0daæ0ten0sam0wynik0.0Poprzez0obserwacjê0dzia³ania0elementów0na0ekranie0animuj¹cych0wartoœci0wyjœcia,0.0Poprzez0obserwacjê0w0trybie0On0Line0zachowania0siê0napisanego0programu0w0oknie,0w0którym0zosta³0wpisany.0Alter0natywna0realizacja0algorytmu0sterowania0jak0wystarczy0czasu0Zrealizowaæ0funkcjê0logiczn¹0opisan¹0wczeœniej0z0u¿yciem0cewek0ustawiaj¹cej0i0kasuj¹cej,0przy0za³o¿eniu,0¿e0za³¹czenie0odbywa0siê0z0u¿yciem0przycisku0start0,0a0wy³¹czenie0z0u¿yciem0przycisku0stop0skojarzonego0ze0zmienn¹0stop.0Zmienn¹0napêdON0przy0starcie0nale¿y0powi¹zaæ0z0cewk¹0ustawiaj¹c¹0S0Set,0a0przy0zatrzymaniu0z0cewk¹0kasuj¹c¹0R0Reset.0Zaobserwowaæ0ró¿nice0w0dzia³aniu0przy0wersji0pierwszej0warunek0musi0byæ0spe³niony0ca³y0czas,0w0we0rsji00nale¿y0za³¹czyæ0jednym0przyciskiem,0a0wy³¹czyæ0drugim.0Zakres0wiadomoœci0na0kolokwium0Elementy0organizacyjne0oprogramowania0wg0normy0funkcje0FC0i0bloki0funkcyjne0FB0oraz0charakterystyczne0dla0systemu0SIEMENS0bloki0organizacyjne0OB,0Bloki0D0anych0DB0i0Typy0Danych0PLC.0Zasady0adresacji0danych0w0systemie0SIEMENS.0Typy0danych0i0zmiennych0w0systemach0PLC.0Podstawowe0elementy0jêzyka0drabinkowego0styki,0cewki0i0komparatory0oraz0ich0interpretacja.0Sprawozdanie0Sprawozdanie0powinno0zawieraæ0sc0hemat0i0opis0konfiguracji0sprzêtu,0schemat0drabinkowy0realizacji0zadania0oraz0opis0zmiennych0aplikacji0SCADA.0Do0przygotowania0sprawozdania0mo¿na0wykorzystaæ0narzêdzia0w0TIA0PORTAL0pozwalaj¹ce0na0wygenerowanie0pdf0a0z0konfiguracji0sprzêtu0oraz0plików0Ÿród0³owych0oprogramowania0otworzyæ0plik0Ÿród³owy0bloku0OB0lub0ekranu00w0HMI0odpowiednio,0zaznaczyæ0opcjê0print,0w³asnoœci0compact.0Drukarka0Microsoft0XPS0Document0Writer,0druk0do0pliku0we0wskazanej0lokalizacji.0Uk³ad1stabilizacji1ciœnienia1sterownik1TURCK1Cel1æwiczenia1G³ównym1celem1æwiczenia1jest1konfiguracja1oraz1uruchomienie1uk³adu1do1stabilizacji1ciœnienia1w1zbiorniku1o1pojemnoœci11litrów1.1Zakres1.1Konfiguracja1sterownika1TURCK1w1œrodowisku1CODESYS,1w1tym1konfiguracja1modu³ów1analo1gowych1IO1oraz1definiowanie1zakresów1pomiarowych1i1charakterystyki1przetwarzania1przetwornika1TURCK1PTR1LIH.1.1Implementacja1w1jêzyku1SCL1funkcji1oraz1bloków1funkcyjnych1dla1tworzonego1uk³adu1sterowania1w1tym1implementacja1bloku1regulatora1PID.1.1Sprawdzenie1dzia³ania1regulatora1w1wersji1P1PI1PD.1.1Przyk³ad1realizacji1wymiany1danych1procesowych1w1oparciu1o1przemys³ow¹1sieæ1PROFINET1opcjonalnie,1jak1wystarczy1czasu.1Aparatura1u¿yta1do1budowy1stanowiska1sterownik1TURCK1BL11PG1EN1V1modu³1w1ejœcia1analogowego1TURCK1BL1AI1pracuj¹cym1w1zakresie11mA,1modu³1wyjœcia1analogowego1TURCK1BL1AO1pracuj¹cym1w1zakresie1V1V1DC.1zawór1proporcjonalny1FESTO1typu11NC,1MPYE1LFB,1przetwornik1ciœnienia1TURCK1PTR1LIH,1piezorezystancyjny,1pracuj¹cy1w1zakresie11bar,1zbiornik1ciœnienia1FESTO1l.1Stanowisko1zosta³o1zaprezentowane1na1Rys...1Szczegó³owy1opis1budowy1oraz1dzia³ania1stanowiska1znajduje1siê1w1pracy1in¿ynierskiej1.1Uwaga1DTR1wszystkich1wymienionyc1h1urz¹dzeñ1znajduj¹1siê1w1katalogu1koresponduj¹cym1z1nr1æwiczenia1laboratoryjnego.1Rys...1Stanowisko1do1stabilizacji1ciœnienia1ze1sterownikiem1TURCK1BL111Damian1Sady1Stanowisko1do1kontroli1ciœnienia1praca1in¿.,1Kat.1Automatyki1i1In¿.1Biomedycznej1AGH,1r.1Proponowany1sposób1wykonania1æwiczenia1.1Instalacja1sprzêtu1TURCK1w1œrodowisku1CODESYS1Instalacj1ê1nowego1sprzêtu1dokonujemy1korzystaj¹c1z1opcji1ToolsPackageManager1Rys...1Uwaga1Podczas1instalacji1nale¿y1wskazaæ1plik1BLxx1PGENVV...1znajduj¹cy1siê1w1katalogu1po1rozpakowaniu1archiwum.1Plik1mo¿na1pobraæ1ze1strony1producenta1sprzêtu.1Rys...1Instalacja1nowego1sprzêtu1w1œrodowisku1CODESYS.1.1Konfiguracja1sprzêtu1Uruchomiæ1oprogramowanie1CODESYS1i1utworzyæ1nowy1projekt1wybieraj¹c1opcje1Standard1project1Rys...1Projekt1mo¿na1zapisaæ1pod1dowoln¹1nazw¹.1Rys...1Kreator1projektu1w1œr1odowisku1CODESYS1Dokonaæ1przyk³adowej1konfiguracji1sprzêtu1dla1budowanej1aplikacji1zgodnie1z1konfiguracj¹1rzeczywist¹1stanowiska.1Konfiguracja1jest1podana1w1tabeli1..1Dodanie1modu³ów1IO1realizujemy1wywo³uj¹c1polecenie1Add1Device1w1wido1ku1drzewa1projektu,1klikaj¹c1lewym1klawiszem1na1bramê1komunikacyjn¹1LocalIOBL1Rys...1Rys...1Dodawanie1modu³ów1rozszerzeñ1IO1do1sterownika1TURCK1BL11Konfiguracjê1modu³ów1Rys..,1wywo³ujemy1klikaj¹c1kolejno1na1ikony1poszczególnych1modu³ó1w1IO1drzewo1projektów1podkatalog1LocalIOBL1wejœcie1analogowe1x1AI1...mA1zakres11mA,1bit1sign,1adres1wejœcia1IW1wyjœcie1analogowe1xAO1..VDC1zakres1...VDC1modu³1nie1wymaga1konfiguracji.1Zapamiêtaæ1nale¿1y1adres1dla1wyjœcia1pierwszego1QW1Rys...1Konfiguracja1modu³ów1IO1sterownika1TURK1BL1.1Konfiguracja1sprawdzenie1adresu1IP1sterownika1TURCK.1Adres1IP1sterownika1Turck1...,1ustawiamy1prze³¹cznikiem1obrotowym1na1obudowie1bramy1komunikac1yjnej1BL1Rys...1Rys...1Sposób1ustawiania1adresu1IP1dla1sterownika1TURCK1BL11Ponadto1w1ustawieniach1Ethernet1General1nale¿y1sprawdziæ1ustawienia1konfiguracyjne1sieci1Rys.1.1Rys...1Konfiguracja1bramy1BL11ustawienia1konfiguracyjne1sieci.1Program1steruj¹cy1Koncepcja1programu1g³ównego1polega1na1stworzeniu1funkcjiFUN1oraz1bloków1funkcyjnych1FB,1odpowiedzialnych1za1odczyt1z1wejœcia1analogowego1i1skalowanie1sygna³u1z1przetwornika1pomiarowego1AnalogReadFUN1,1formowanie1sygn1a³u1wyjœciowego1dla1zaworu1proporcjonalnego1AnalogWrite1FUN,1blok1obliczeniowy1regulatora1PID1pidREG1FB1,1blok1z1mo¿liwoœci¹1wyboru1sterowania1rêcznego1sta³a1zadana1wartoœæ1wyjœciowa1lub1automatycznego1selREGFB.1Sposób1postêpowania1prz1y1tworzeniu1algorytmu1sterowania1Utworzyæ1funkcje1FUN1oraz1bloki1funkcyjne1FB,z1godnie1z1poni¿szymi1listingami1a1Odczyt1z1wejœcia1analogowego1funkcja1AnalogReadFUN.1Przyk³adowa1implementacja1funkcji1zosta³a1pokazana1na1Rys.1..1Rys...1Imple1mentacja1funkcji1AnalogReadFUN1realizuj¹cej1odczyt1z1wejœcia1analogowego.1b1Sterowanie1wyjœciem1analogowym1funkcja1AnalogWrite1FUN1Rys..1Rys...1Implementacja1funkcji1AnalogWriteFUN1c1Implementacja1regulatora1prêdkoœciowego1PID1blok1pidREG1FB1Rys..1Uwaga1Blok1regulatora1PID1mo¿na1opisaæ1w1postaci1zale¿noœci1.1alg.1prêdkoœciowy.1.1gdzie1Rys...1Implementacja1bloku1funkcyjnego1FB1regulator1PID1d1utworzyæ1blok1wyboru1sterowania1selREGFB1,1u¿ywaj¹c1jêzyka1FBD1lub1SCL.1Wywo³ani1e1funkcjibloków1funkcyjnych1w1œrodowisku1CodeSYS.1W1calu1utworzenia1sekwencji1wywo³ania,1utworzone1przez1u¿ytkownika1bloki1funkcyjne1musz¹1zostaæ1po³¹czone1w1jednym1bloku1programowym1PLCPRG1,1wywo³ywanym1cyklicznie1w1g³ównym1programie1MainTask.1W1t1ym1celu1nale¿y1utworzyæ1blok1programowy1PLCPRG1zgodnie1z1Rys.1..1Rys...1Propozycja1implementacji1bloku1programowego1PRG1g³ówna1pêtla1regulacji1dla1stanowiska1kontroli1ciœnienia.1skonfigurowaæ1wywo³anie1bloku1programowego1PLCPRG1,1poprzez1utworzenie1w1Task1Configuration1zadania1MainTask,1Rys...1Rys...1Widok1programów1realizowanych1w1MainTask1Nastêpnie1w1Main1Task1poprzez1wybór1opcji1Add1Object1Program1Call1wskazujemy1blok1programowy1PLCPRG.1Operacjê1koñczy1konf1iguracja1wywo³ania1cyklicznego1zadania1MainTask1Configuration.1W1oknie1Configuration1Rys..,1nale¿y1ustawiæ1wartoœæ1okresu1próbkowania1na1ms1oraz1priorytet1wywo³ania1zadania1Priority1,1Type1Cyclic,1Interval1tms1.1Rys...1Sposób1konfigura1cji1wywo³ania1dla1zadania1cyklicznego1PLCPRG.1.1Sprawdzenie1dzia³ania1regulatora1w1wersji1P1PI1PD.1Utworzony1projekt1nale¿y1skompilowaæ1wydaj¹c1polecenie1BuildRebuild.1Program1wsadowy1jest1automatycznie1³adowany1podczas1wybrania1opcji1Online1Login1.1Œrodowisko1Codesys,1przy1wykryciu1nowej1wersji1oprogramowania,1zapyta1u¿ytkownika1czy1za³adowaæ1nowezmodyfikowane1oprogramowanie1na1sterownik1PLC.1Podczas1wykonywania1programu1w1trybie1debugowania,1mo¿liwy1jest1podgl¹d1oraz1modyfikacja1wartoœci1zmi1ennych,1w1tym1interesuj¹cych1nas1parametrów1regulatora1oraz1wartoœci1procesowych.1Aby1wymusiæ1zmianê1wartoœci,1wprowadzamy1je1w1polu1przy1interesuj¹cym1nas1sygnale1Rys.1..1Zmianê1wartoœci1inicjujemy1wybieraj¹c1opcjê1DebugWrite1Values1CrtF1oraz1wy1muszamy1poprzez1wybór1DebugForce1Values1F.1Rys...1CODESYS1podgl¹d1zmiennych1oraz1sposób1ich1modyfikacja1w1trakcie1wykonywania1programu1debug.1Sprawdzenie1dzia³ania1regulatora1w1wersji1P1ustawiæ1dzia³anie1regulatora1na1czysto1proporcjonalne1Kd1,1Ti11oraz1wartoœæ1zadan¹1ciœnienia1PV1na1poziomie11zakresu11bar.1Zbadaæ1charakterystykê1statyczn¹1regulatora1odczyt1w1oknie1dla1sygna³u1wejœciowego1z1zakresu111co11dla1Kp11,1,1.1Sporz¹dziæ1wykres1tej1charaktery1styki.1Sprawdzenie1dzia³ania1regulatora1w1wersji1PI1Ustawiæ1nastêpuj¹ce1wartoœci1parametrów1regulatora1Kp1,1Ti11s,1Kd1,1wartoœæ1zadana11zakresu,1po1ustawieniu1zapisaæ1do1pamiêci1F1.1Odczekaæ,1a¿1sygna³1wyjœciowy1z1regulatora1osi¹gnie1poziom1.1Zmieniæ1skokowo1sygna³1wejœciowy1o11wartoœci1SP,1zaobserwowaæ1przebieg1sygna³u1wyjœciowego1z1regulatora.1Sprawdzenie1dzia³ania1regulatora1w1wersji1PD.1Podobnie1jak1w1przypadku1regulatora1PI,1ustawiæ1nastêpuj¹ce1wartoœci1parametrów1regula1tora1Kp1,1Ti11s1Kd1,1obserwowaæ1zachowanie1regulatora.1Wnioski1z1obserwacji1regulatora,1w1poszczególnych1trybach1pracy1P,PI1i1PD1nale¿y1zawrzeæ1w1sprawozdaniu1z1æwiczenia.1.1Wymiana1danych1procesowych1w1oparciu1o1przemys³ow¹1sieæ1PROFINET1o1pcjonalnie.1Konfiguracja1sieci1Profinet.1Sterownik1TURCK1mo¿e1pracowaæ1jako1urz¹dzenie1SLAVE1w1sieci1Profinet.1Interfejs1Profinet,1dodajemy1poprzez1wybór1opcji1Add1Device..1wybieraj¹c1z1drzewa1projektu1element1Ethernet1.1Jako1nazwê1urz¹dzenia,1mo¿na1prz1yj¹æ1proponowan¹1przez1œrodowisko1ProfinetDevice1Rys...1Rys...1Konfiguracja1urz¹dze1nia1typu1slave1w1sieci1Profibus1Nastêpnie1nale¿y1zdefiniowaæ1pakiety1danych,1które1sterownik1TURCK1bêdzie1wymienia³1z1systemem1nadrzêdnym1Siemens1S1.1In1terfejs1Profinet1w1sterowniku1TURCK1pozwala1na1transfer11bajtów1danych11dane1wejœciowe1i11dane1wyjœciowe.1W1dwóch1bajtach1BYTE1wymieniamy1informacje1o1statusie,1ze1sterownika1nadrzêdnego1Rys..,1a1tak¿e1sygna³y1statusowe1ze1sterown1ika1TURCK1do1S1.1W11ch1s³owach1WORD,1przesy³amy1informacje1procesowe1wartoœæ1zadana1SP,1wartoœæ1aktualna1PV1oraz1stopieñ1wysterowania1zaworu1regulacyjnego1OUT.1Pakiety1danych1dodajemy1kolejno,1poprzez1wybór1opcji1Add1Device..1drzewo1proje1ktu,1ProfinetDevice,1podkatalog1Ethernet1Rys...1Organizacja1pakietów1danych1zosta³a1przedstawiona1w1tabeli1..1Rys...1Pakiety1danych1sterownik1TURCK1BL11Code1SYS1INBYTE1Byte1In1IB1IN1Bool1IX.1bit1statusowy1liveBit1ze1sterownika1S11ININ1Bool1IX.11do11niewykorzystane1OUTWORD1Word1UINT1QW1wartoœæ1ciœnienia1w1zbiorniku1OUTWORD1Word1UINT1QW1wartoœæ1ciœnienia1zadanego1odczytanego1z1TURCK1OUTWORD1Word1UINT1QW1stopieñ1wysterowania1zaworu1w1Rys...1Definiowanie1kontenerów1dla1danych1dla1potrzeb1ich1wymiany1w1sieci1profibus.1Uwaga1Nale¿y1zmodyfikowaæ1bloki1funkcyjne1programu,1tak1aby1wartoœci1z1procesu1regulacji1ciœnien1ia1PV,1SP,1OUT,1AUTOM,1MANUAL,1etc.,1by³y1przepisywane1do1zmiennych1OUTWORD,1OUTWORD1oraz1OUTWORD1i1OUTBYTE.1Ponadto1w1ustawieniach1konfiguracyjnych1bramy1Device1B1PGENV,1zak³adka1Task1deployment1Rys..,1nale¿y1zaznaczyæ1wszys1tkie1zmienne,1które1maj¹1byæ1aktualizowane1podczas1wywo³ania1cyklicznego1bloków1programu1kolumna1MainTask.1Rys...1Aktualizacja1wartoœci1zmiennych.1Zakres1wymaganych1wiadomoœci1Elementy1organizacyjne1oprogramowania1dla1sterowników1PLC,1typy1danyc1h1i1zmiennych1w1systemach1PLC,1funkcje1FC1i1bloki1funkcyjne1FB1wg1normy1IEC1.1Bloki1programowe1PRG1charakterystyczne1dla1CODESYS.1Zasady1adresacji1danych1w1sterownikach1TURCK.1Miejsce1i1rola1przetworników1pomiarowych1w1uk³adzie1regulacji.1Budowa1i1zasada1dzia³ania1pojemnoœciowych1i1piezorezystancyjnych1czujników1ciœnienia.1Cyfrowy1algorytm1PID1w1wersji1pozycyjnej1i1przyrostowej,1zalety1i1wady1tych1algorytmów.1Charakterystyka1sieci1komunikacyjnej1na1przyk³adzie1przemys³owego1standardu1PROFINE1T.1UWAGA1Przygotowuj¹c1siê1do1æwiczenia1nr1,1zaleca1siê1zapoznanie1siê1z1funkcjami1œrodowiska1do1programowania1sterowników1PLC1pakiet1CODESYS.1W1ramach1przygotowania1do1æwiczenia,1proszê1wykonaæ1konfiguracjê1bramy1TURCK1BL1w1tym1modu³ów1analogowych1wewy.1Æwiczenie1aby1zosta³o1wykonane1prawid³owo1wymaga1œcis³ej1wspó³pracy1z1zespo³em1realizuj¹cym1æwiczenie1na1stanowisku1nr1.1W1ramach1zadañ1nale¿y1m.in.1sprawdziæ1wymianê1danych1w1sieci1przemys³owej1PROFINET1miêdzy1sterownikami1PLC1SIEMENS1S11i1TURK1BL.1Literatura1i1dokumentacja1techniczna1DTR1aparatury1dostêpnej1na1stanowisku1katalog1z1dokumentacj¹.1Tomasz1Gilewski1Podstawy1programowania1st1erowników1SIMATIC1S11w1jêzyku1SCL1Zakres1wymaganych1wiadomoœci.1Podstawowe1wiadomoœci1nt1zamkniêtego1uk³adu1regulacji1temperatury1schemat1blokowy1zamkniêtego1uk³adu1regulacji1i1funkcje1jego1elementów,1regulacja1wprost1i1z1inwersj¹,1algorytmy1PID,1sterowanie1PWM1zasada1dzia³ania,1Podstawowe1wiadomoœci1nt1regulacji1dwupo³o¿eniowej1schem1at1uk³adu1regulacji1dla1obiektów1statycznych1i1astatycznych,1przebiegi1wielkoœci1regulowanej1i1sterowania1w1uk³adzie,1wp³yw1parametrów1obiektu1i1przekaŸnika1na1przebiegi1wielkoœci1regulowanej,1wp³yw1poziomu1wartoœci1zadanej1na1œredni¹1wartoœæ1przebiegu1wie1lkoœci1regulowanej.1Metody1pomiaru1temperatury1z1wykorzystaniem1termopar1oraz1czujników1rezystancyjnych1zakresy1zastosowañ1poszczególnych1typów1czujników1charakterystyki1przetwarzania,1uk³ady1po³¹czeñ,1czynniki1zak³ócaj¹ce1pomiary.1Sprawozdanie.1Sprawozdanie1powinno1zawieraæ1uproszczony1schemat1uk³adu1regulacji1regulator1z1wyjœciem1steruj¹cym1i1alarmowym,1obiekt1opis1poziomów1dostêpu,1na1których1programuje1siê1poszczególne1parametry1regulatora,1wnioski1koñcowe1np.1co1jest1przyczyn¹1tego,1¿e1dla1ró¿nych1poziomów1wartoœci1zadanej1oraz1ró¿nych1warunków1pracy1obiektu1ch³odzenie1lub1jego1brak,1zosta³y1wyznaczone1ró¿ne1nastawy1.1Uk³ad2regulacji2temperatury2SIEMENS2Cel2æwiczenia.2Zapoznanie2siê2z2budow¹2i2programowaniem2sterown2ika2SIEMENS2SIMATIC2S22oraz2panelu2operatorskiego2SIMATIC2HMI2Basic2w2celu2realizacji2uk³adu2regulacji2temperatury2za2pomoc¹2pakietu2narzêdziowego2SIMATIC2STEP2.2Opis2aparatury.2Dokumentacja2techniczna2u¿ytkowania2sterownika2SIEMENS2SIMATIC2S2.2Budowa2stanowiska2laboratoryjnego.2Rys.2..2Stanowisko2pracy.2Rys.2..2Panel2operatorski2Sterownik2SIMATIC2SIEMENS2S22z2wyjœciem2przekaŸnikowym2oraz2panel2operatorski2SIMATIC2HMI2Basic.2Obiekt2regulacji2typu2cieplnego.2Jest2nim2walec2alumin2iowy2zamocowany2w2oporowym2wk³adzie2grzejnym2o2mocy22W.2Spirala2grzejna2jest2zasilana2impulsowo2z2wyjœcia2sterownika2poprzez2przekaŸnik2mocy2SSR2sygna³em2sieciowym22V.2Wspó³czynnik2wype³nienia2sygna³u2steruj¹cego2jest2modulowany2poziomem2sygna³u2w2yjœciowego2sterownika.2Na2obu2koñcach2walca2s¹2symetrycznie2zamocowane2dwa2termometry2Pt.2Jeden2z2nich2jest2po³¹czony2z2wejœciem2sterownika,2a2drugi2z2gniazdami2na2przedniej2œcianie2obudowy.2Czujnik2Pt2pod³¹czony2jest2do2sterownika2w2systemie2cztero2przewodowym.2Wystaj¹ce2z2wk³adu2koñce2walca2s¹2karbowane2w2celu2zwiêkszenia2intensywnoœci2ch³odzenia.2Obiekt2umieszczony2jest2w2metalowej2obudowie.2W2prawej2œcianie2obudowy2jest2wbudowany2wentylator2uruchamiany2w2celu2dodatkowego2ch³odzenia2obiektu.2Wyko2nanie2æwiczenia.2Skonfiguruj2stanowisko2sprzêt2i2nazwy2symboliczne2zmiennych2wg.2danych2pokazanych2na2poni¿szych2rysunkach2i2w2tabelach.2Rys.2..2Konfiguracja2stanowiska2Rys.2..2Sieæ2Skonfiguruj2wejœcie2RTD2Drzewo2Projektu2PLC2CPUC2ACDCRly2Local2Modules2AI2xRTD2zgodnie2z2parametrami2pokazanymi2na2rys2..2W2dokumentacji2S22Easy2Book2sprawdŸ2w2jaki2sposób2jest2reprezentowana2temperatura2odczytywana2za2pomoc¹2czujnika2Pt2i2u¿ywanego2w2æwiczeniu2modu³u2wejœæ2analogowych.2Rys.2.2Konfiguracja2wejœcia2RTD2Skonfiguruj2wyjœcie2PWM2PLC2CPUC2ACDCRly2Properties2Pulse2Generators2PTOPWM2zgodnie2z2parametrami2pokazanymi2na2rys2..2SprawdŸ2jaki2numer2identyfikatora2sprzêtowego2zosta³2przypisany2do2tego2wyjœcia2PWM.2Rys.2..2Konfiguracja2wyjœc2ia2PWM2W2Program2blocks2Main2OB2umieœæ2blok2CTRLPWM2i2odpowiednio2go2skonfiguruj2zgodnoœæ2numeru2identyfikatora2sprzêtowego2wyjœcia2PWM.2Rys.2..2Blok2CTRLPWM2w2bloku2OB.2W2programie2OB2umieœæ2bloki2realizuj¹ce2odczyt2temperatury2i2pr2zeliczaj¹ce2ten2odczyt2na2stopnie2Celsjusza2z2dok³adnoœci¹2do2jednego2stopnia.2Stwórz2funkcjê2FC2realizuj¹c¹2regulator2dwupo³o¿eniowy2bez2histerezy.2Wejœciem2tej2funkcji2ma2byæ2zadana2wartoœæ2temperatury,2aktualna2wartoœæ2temperatury,2wartoœæ2sterowa2nia2w2stanie22oraz2wartoœæ2sterowania2w2stanie2.2Wynikiem2dzia³ania2tej2funkcji2ma2byæ2sterowanie2przypisane2do2stanów22i22jeœli2wartoœæ2zmierzona2jest2równa2lub2wiêksza2od2wartoœci2zadanej2to2sterowanie2przyjmuje2poziom22w2przeciwnym2p2rzypadku2sterowanie2ma2poziom2.2Wyjœcie2z2tej2funkcji2jest2podawane2na2sprzêtowe2wyjœcie2PWM2wiêc2mo¿e2ono2przyjmowaæ2wartoœci2z2zakresu2...2W2programie2OB2utwórz2mo¿liwoœæ2nadpisywania2sterowania2wyliczonego2przez2funkcjê2regulatora2dwupo³o¿enio2wego2wartoœci¹2ustawian¹2rêcznie.2Mo¿liwoœæ2ta2ma2byæ2aktywowana2prze³¹cznikiem2sterowanie2rêczneautomatyczne2umieszczonym2na2panelu2operatorskim.2Zbuduj2system2SCADA2na2panelu2operatorskim.2Powinny2siê2na2nim2znaleŸæ2prze³¹cznik2trybu2pracy2rêczny2automatyczny,2w³¹cznik2wentylatora,2pola2do2zadawania2wartoœci2zadanej,2sterowania2w2stanie2,2sterowania2w2stanie2,2wartoœci2sterowania2w2trybie2rêcznym,2pole2odczytu2aktualnej2temperatury2oraz2wykres2trendu2zmian2temperatury.2Wszystkie2parametry2powinny2byæ2aktualizowane2na2panelu2operatorskim2co22sekundê,2Rys.2..2Przyk³adowy2ekran2HMI2Eksperymenty2pomiarowe.2Nale¿y2zbadaæ2wp³yw2wartoœci2zadanej2oraz2wartoœci2sterowania2w2stanie22i22na2stabilizacjê2temperatury.2Wszystkie2eksperymenty2nale¿y2przeprowadzaæ2przy2w³¹czonym2na2sta³e2wentylatorze.2Ustaw2z2poziomu2panelu2operatorskiego2sterowanie2w2stanie222a2w2stanie222.2Ustaw2temperaturê2zadan¹2na2oC.2Zarejestruj2rêcznie2na2kartce2oscylacje2temperatury2temperaturê2mi2nimalna2i2maksymaln¹2wokó³2wartoœci2zadanej2w2stanie2ustalonym.2Eksperyment2powtórz2dla2temperatur2zadanych2oC2i2oC.2Ustaw2temperaturê2zadan¹2równ¹2oC2a2nastêpnie2zarejestruj2oscylacje2temperatury2wokó³2wartoœci2zadanej2dla2sterowañ2w2stanie22równych22i2.2W2obu2przypadkach2sterowanie2w2stanie22ma2byæ2równe2.2Zakres2wymaganych2wiadomoœci.2Podstawowe2wiadomoœci2nt2programowania2w2jêzyku2drabinkowy2LD2bloki2kodu2i2adresacja,2zamkniêtego2uk³adu2regulacji2temperatury2schemat2blokow2y2zamkniêtego2uk³adu2regulacji2i2funkcje2jego2elementów,2sterowanie2PWM2zasada2dzia³ania,2Podstawowe2wiadomoœci2nt2regulacji2dwupo³o¿eniowej2schemat2uk³adu2regulacji2dla2obiektów2statycznych2i2astatycznych,2przebiegi2wielkoœci2regulowanej2i2sterowania2w2uk³adzie,2wp³yw2parametrów2obiektu2i2przekaŸnika2na2przebiegi2wielkoœci2regulowanej,2wp³yw2poziomu2wartoœci2zadanej2na2œredni¹2wartoœæ2przebiegu2wielkoœci2regulowanej.2Metody2pomiaru2temperatury2z2wykorzystaniem2termopar2oraz2czujników2rezystancyjnych2zakresy2zastosowañ2poszczególnych2typów2czujników2charakterystyki2przetwarzania,2uk³ady2po³¹czeñ,2czynniki2zak³ócaj¹ce2pomiary.2Sprawozdanie.2Sprawozdanie2ska2powinno2zawieraæ2opis2konfiguracji2stanowiska,2schemat2drabinkowy2realizacji2zadania,2listin2g2realizacji2funkcji2regulatora2dwupo³o¿eniowego,2opis2zmiennych2aplikacji2SCADA,2widok2panelu2operatorskiego,2tabelaryczne2zastawienie2wyników2eksperymentów2pomiarowych2wraz2z2ich2dyskusj¹2oraz2wnioski2koñcowe.2Sterowanie3uk³adem3lewitacji3powietrznej.3Cel3æwiczenia3i3opis3stanowiska3Celem3æwiczenia3jest3konfiguracja3programowa3i3testy3dzia³ania3bazuj¹cego3na3PLC3systemu3sterowania3uk³adem3lewitacji3powietrznej.3Stanowisko3laboratoryjne3rys3.3sk³ada3siê3ze3sterownika3SIEMENS3SIMATIC3S33oraz3przeŸroczystej3rury,3w3której3porusza3siê3pi³eczka3pingpongowa.3Na3dolnym3koñcu3rury3umieszczony3jest3laserowy3czujnik3odleg³oœci3a3na3górnym3koñcu3wentylator3napêdzany3silnikiem3elektrycznym3DC.3Wentylator3zasysa3powietrze3przez3rurê3od3do³u3ku3górze3powoduj¹c3unoszenie3pi³eczki.3Na3rurze3umieszczona3jest3skala3metrowa3pozwalaj¹ca3na3odczyt3pozycji3pi³eczki.3Rura3prawie3na3ca³ym3obwodzie3os³oniêta3jest3czarnym3papierem,3aby3zmniejszyæ3wp³yw3œwiat³a3z3otocz3enia3na3wskazania3laserowego3czujnik3a3odleg³oœci3oraz3zabezpieczyæ3osoby3realizuj¹ce3æwiczenie3przed3ewentualnymi3odbiciami3wi¹zki3laserowej.3Na3przodzie3rury3znajduje3siê3szczelina3pozwalaj¹ca3na3okreœlenie3pozycji3pi³eczki.3Rys.3.3Widok3stanowiska3laboratoryjnego3Etapy3realizacji3æwiczenia3.3Utworzenie3nowego3projektu3w3TIA3PORTAL3oraz3odpowiednie3skonfigurowanie3sterownika3SIEMENS3SIMATIC3S33obejmuj¹ce3konfiguracjê3sprzêtow¹3sterownika,3a3w3szczególnoœci3wejœcia3analogowego3wejœcia3dyskretnego3wyjœcia3PWM3wejœcia3szyb3kiego3licznika3w3uk³adzie3pomiaru3czêstotliwoœci3konfiguracjê3panelu3operatorskiego3.3Zapoznanie3siê3z3sposobem3dzia³ania3laserowego3czujnika3odleg³oœci3.3Realizacja3sterowania3prêdkoœci¹3obrotow¹3silnika3DC3wentylatora3za3pomoc¹3sygna³u3PWM3.3Pomiar3prêdk3oœci3obrotowej3silnika3.3Budowa3uk³adu3stabilizacji3pozycji3pi³eczki3z3wykorzystaniem3regulatora3PID3z3opcj¹3sterowania3rêcznego3.3Budowa3aplikacji3SCADA3na3panelu3operatorskim3z3wizualizacj¹3pozycji3pi³eczki,3wartoœci3sygna³u3PWM,3prêdkoœci3obrotowej3wenty3latora,3parametrów3regulatora3PID3oraz3wartoœci3sterowania3rêcznego.3Z3poziomu3panelu3operatorskiego3ma3byæ3mo¿liwa3zmiana3wartoœci3sterowania3rêcznego3oraz3parametrów3regulatora.3Na3panelu3ma3siê3znaleŸæ3prze³¹cznik3trybów3pracy3uk³adu3automatycznyrêczn3y3oraz3wy³¹cznik3blokuj¹cy3wysy³anie3sygna³u3PWM3do3wentylatora.3.3Automatyczny3dobór3nastaw3regulatora3PID3w3oparciu3o3narzêdzia3wbudowane3w3TIA3PORTAL.3.3Przygotowanie3sprawozdania.3Konfiguracja3stanowiska3Na3pocz¹tku3æwiczenia3nale¿y3przeprowadziæ3odpowi3edni¹3konfiguracjê3stanowiska3w3TIA3PORTAL.3Mo¿na3do3tego3wykorzystaæ3projekt3stworzony3w3æwiczeniu3nr33wczytuj¹c3go3z3noœnika3pamiêci3USB3i3po3niezbêdnych3modyfikacjach3zapisuj¹c3pod3now¹3nazw¹3lub3otworzyæ3ca³kowicie3nowy3projekt3w3TIA3PORTAL3i3ca³¹3k3onfiguracjê3stworzyæ3od3nowa3nie3zalecane3ze3wzglêdu3na3potrzebny3na3to3czas.3Rys.3.3Uk³ad3modu³ów3w3poszczególnych3slotach3Analogicznie3jak3w3æwiczeniu33dokonaæ3konfiguracji3portów3sieciowych3rys.3.3.3Rys.3.3Topologia3po³¹czeñ3sieciowych3Rys.3.3Okno3konfigurowania3adresów3sieciowych3Rys.3.3Zatwierdzeni3e3nowego3adresu3Zdefiniowaæ3tablicê3nazw3symbolicznych3PCL3Tags3wg.3poni¿szego3wzoru3Rys.3.3Tablica3nazw3symbolicznych3Laserowy3czujnik3odleg³oœci3OADK3USC3U¿yty3w3æwiczeniu3czujnik3odleg³oœci3dzia³a3w3zakresie3od33do33cm.3Pomiaru3odleg³oœci3dokonuje3w3oparciu3o3pomiar3k¹ta3padania3na3czujnik3wi¹zki3laserowej3odbitej3od3przedmiotu,3do3którego3mierzona3jest3odleg³oœæ.3Dok³adnoœæ3pomiaru3oraz3jego3niepewnoœæ3w3funkcji3odleg³oœci3podane3s¹3w3nocie3katalogowej3tego3czujnika.3Sygna³em3w3yjœciowym3z3czujnika3jest3napiêcie3w3zakresie33V.3Sygna³3ten3jest3pod³¹czony3do3wejœcia3analogowego3AI.3sterownika3adres3IW3.3Czujnik3posiada3równie¿3wyjœcie3dyskretne.3Jest3ono3aktywowane3osi¹ga3stan3wysoki3jeœli3odleg³oœæ3do3mierzonego3przedmio3tu3jest3mniejsza3ni¿3cm3lub3wiêksza3ni¿3cm.3Wyœcie3dyskretne3czujnika3pod³¹czone3jest3do3wejœcia3dyskretnego3DI.3sterownika3adres3I.3.3W3oknie3programu3g³ównego3Main3OB3nale¿y3umieœciæ3elementy3jêzyka3drabinkowego3pozwalaj¹ce3na3odczyt3obu3wy3mienionych3wy¿ej3sygna³ów3analogowego3i3dyskretnego,3a3nastêpnie3na3panelu3operatorskim3umieœciæ3wskaŸniki3pozycji3kulki3pole3cyfrowe3i3bargraf3oraz3wskaŸnik3np.3lampkê3sygnalizac3yjn¹3pokazuj¹c¹,3¿e3pi³eczka3znajduje3siê3poza3zakresem3pomiarowym3czuj3nika.3Jeœli3powy¿sze3czynnoœci3zosta³y3wykonane,3to3nale¿y3zwróciæ3siê3do3opiekuna3o3przekonifgurowanie3stanowiska3do3opcji3rêcznej3zmiany3po³o¿enia3pi³eczki3usuniêcie3g³owicy3z3wentylatorem3oraz3umieszczenie3w3rurze3pi³eczki3przymocowanej3na3lince.3Nas3têpnie3trzymaj¹c3w3rêce3linkê3nale¿y3rêcznie3zmieniaæ3pozycjê3pi³eczki3w3ca³ym3zakresie3ruchu3z3krokiem3cm.3Za3pozycjê3pi³eczki3nale¿y3przyj¹æ3pozycjê3jej3dolnej3krawêdzi3najni¿szy3punkt.3W3ka¿dej3z3pozycji3nale¿y3zanotowaæ3odczytan¹3i3wyœwietlon¹3na3panelu3operatorskim3pozycjê3pi³eczki.3Pomiary3nale¿y3wykonaæ3dwukrotnie3raz3przy3ruchu3od3do³u3do3góry,3drugi3raz3przy3ruchu3od3góry3ku3do³owi.3Na3podstawie3wykonanych3pomiarów3nale¿y3przygotowaæ3do3sprawozdania3odpowiednie3wykresy3a3ich3przebieg3skom3entowaæ3odnosz¹c3siê3do3parametrów3czujnika3umieszczonych3w3nocie3katalogowej.3W3sprawozdaniu3nale¿y3równie¿3umieœciæ3zrzuty3ekranu3obrazuj¹ce3stworzony3panel3operatorski3oraz3program3w3jêzyku3drabinkowym.3Po3wykonaniu3tej3czêœci3nale¿y3poprosiæ3opiekuna3o3ponowne3przekonfigurowanie3stanowiska3do3uk³adu3automatycznego3sterowania3pozycj¹3pi³eczki.3Sterowanie3prêdkoœci¹3obrotow¹3wentylatora3DC3oraz3pomiar3jego3prêdkoœci3obrotowej.3Zagadnienia3realizowane3w3tej3czêœci3æwiczenia3s¹3bardzo3szczegó³owo3opisane3w3rozdziale33ksi¹¿ki3J.Kwaœniewskiego3Sterowniki3SIMATIC3S33w3praktyce3in¿ynierskiej.3Przypisanie3fizycznych3wyjœæ3i3wejœæ3do3poszczególnych3generatorów3PTOPWM3oraz3liczników3HSC3jest3sta³e3i3nie3mo¿na3go3zmieniaæ3programowo.3Rys.3.3Powi¹z3anie3wyjœæ3fizycznych3z3poszczególnymi3generatorami3PTOPWM3zaznaczono3u¿yte3w3æwiczeniu3wyjœcie3Ze3wzglêdu3na3wykorzystanie3wejœcia3dyskretnego3DI.3do3obs³ugi3sygna³u3b³êdu3pomiaru3z3czujnika3laserowego3pomiar3prêdkoœci3obrotowej3pomiar3prêdkoœci3obr3otowej3wentylatora3zrealizowano3w3oparciu3o3wejœcie3dyskretne3DI.3i3szybki3licznik3HSC.3Rys.3.3Powi¹zanie3fizycznych3wejœæ3z3szybkimi3licznikami3zaznaczono3u¿yte3w3æwiczeniu3wejœcie3Sterowanie3wentylatora3pod³¹czone3jest3poprzez3stopieñ3mocy3do3wyjœcia3PTOPWM3sterownika.3Na3samym3pocz¹tku3nale¿y3to3wy3jœcie3odpowiednio3skonfigurowaæ.3W3tym3celu3w3oknie3drzewa3projektu3nale¿y3klikn¹æ3prawym3klawiszem3myszy3na3zak³adkê3jednostki3centralnej3PLCCPU,3klikn¹æ3opcjê3Properties3i3w3otwartym3po3l3ewej3stronie3oknie3wybraæ3zak³adkê3Pulse3Generators3PTOPWM.3W3tym3miejscu3nale¿y3skonfigurowaæ3PTOPWM3w3tryb3wyjœcia3PWM3z3parametrami3pokazanymi3na3rys.3.3i3.3typ3sygna³u3PWM3,3podstawa3czasu3milisekundy3,3format3wartoœci3pulsu3S3analog3for3mat3okres3cyklu3ms3.3Rys.3.3Konfiguracja3wyjœcia3PWM3cz.3Rys.3.3Konfiguracja3wyjœcia3PWM3cz.3W3programie3g³ównym3OB3nale¿y3umieœciæ3blok3kontroli3wyjœcia3PWM.3Rys.3.3Blok3kontroli3wyjœcia3PWM3Wejœcie3Enable3bloku3CTRLPWMDB3nale¿y3po³¹czyæ3ze3zmienn¹3wewnêtrzn¹3PWMStart,3której3wartoœæ3powinna3byæ3ustalana3prze³¹cznikiem3na3panelu3operatorskim.3Pozwoli3to3na3wy³¹cz3enie3wentylatora3w3dowolnym3momencie3niezale¿nie3od3dzia³ania3reszty3programu.3Konfiguracjê3szybkiego3liczni3ka3HSC3nale¿y3przeprowadziæ3analogicznie3jak3konfiguracjê3generatora3PWM.3W3tym3celu3w3oknie3drzewa3projektu3nale¿y3klikn¹æ3prawym3klawiszem3myszy3na3zak³adkê3jednostki3centralnej3PLCCPU,3klikn¹æ3opcjê3Properties3i3w3otwartym3po3lewej3stronie3oknie3wy3braæ3zak³adkê3High3Speed3Counters3HSC.3Nastêpnie3nale¿y3wprowadziæ3parametry3licznika3HSC3typ3zliczania3czêstotliwoœæ3,3tryb3pracy3jedna3faza3,3kierunek3zliczania3wybierany3programowo3,3pocz¹tkowy3kierunek3zliczania3do3góry3,3okres3zliczania33sek.3rys3.3i3..3Rys.3.3Konfiguracja3szybkiego3licznika3HSC3cz.3Rys.3.3Konfiguracja3szybkiego3licznika3HSC3cz.3Do3poprawnej3wspó³pracy3szybkiego3licznika3HSC3z3sygna³em3pochodz¹cym3od3wentylatora3u¿ytego3w3æwiczeniu3niezbêdna3jest3zmi3ana3domyœlnej3filtracji3sygna³u3na3wejœciu3dyskretnym3DI.3z3wartoœci3.3ms3na3.3ms.3Konfiguracjê3przeprowadza3siê3w3drzewie3projektu3PLCCPU,3klikn¹æ3opcjê3Properties3i3w3otwartym3po3lewej3stronie3oknie3wybraæ3zak³adkê3DIDQ3Digital3Inputs,3nastêpnie3Chanel3,3i3zmieniæ3wartoœæ3parametru3Input3Filters3z3.3ms3na3.3ms.3Po3odpowiednim3skonfigurowaniu3obs³ugi3sygna³ów3sterowania3i3pomiaru3prêdkoœci3wentylatora3nale¿y3sprawdziæ3poprawnoœæ3ich3dzia³ania.3Aby3to3zrobiæ3trzeba3na3panelu3operatorsk3im3umieœciæ3pola3cyfrowe3do3zadawania3wartoœci3sterowania3PWM3oraz3odczytu3prêdkoœci3obrotowej3wentylatora.3Pocz¹tkowo3mo¿na3bezpoœrednio3odczytywaæ3czêstotliwoœæ3sygna³u3pojawiaj¹cego3siê3na3wejœciu3DI.3wejœcie3licznika3HSC3.3Jednak3po3sprawdzeniu3poprawnoœci3odczytów3nale¿y3je3przeliczyæ3poprzez3odpowiedni3blok3w3programie3g³ównym3na3obroty3na3minutê3RPM.3Przy3przeliczaniu3trzeba3uwzglêdniæ3fakt,3¿e3wentylator3podaje3dwa3impulsy3na3jeden3obrót3wirnika3Maj¹c3mo¿liwoœæ3zadawania3sterowania3PW3M3oraz3odczytu3prêdkoœci3obrotowej3wentylatora3RPM3nale¿y3przebadaæ3zachowanie3siê3ca³ego3uk³adu3sterowania3tj.3odnaleŸæ3prêdkoœæ3obrotow¹3wentylatora3i3powi¹zane3z3ni¹3sterowanie3PWM.3przy3której3pi³eczka3zaczyna3podnosiæ3siê3do3góry,3oraz3prêdkoœæ3pr3zy3której3pi³eczka3zaczyna3opadaæ.3Badaj¹c3uk³ad3nale¿y3zwróciæ3uwagê3na3nastêpuj¹ce3cechy3uk³adu3sterowania3minimalna3wartoœæ3sterowania3PWM,3przy3której3zaczyna3obracaæ3siê3wentylator3,3maksymalna3prêdkoœæ3obrotowa3wentylatora3,3histereza3miêdzy3wartoœcia3mi3sterowania3i3prêdkoœci3obrotowej3wentylatora3powoduj¹cymi3unoszenie3siê3i3opadanie3pi³eczki3.3Obserwacje3i3wnioski3z3tej3czêœci3æwiczenia3nale¿y3umieœciæ3w3sprawozdaniu.3Zastosowanie3regulatora3PID.3Kolejnym3etapem3æwiczenia3jest3zastosowanie3regul3atora3PID3z3opcj¹3sterowania3rêcznego3do3stabilizacji3pozycji3pi³eczki.3Regulator3PID3umieszczamy3w3bloku3przerwañ3cyklicznych3OB3.3Aby3utworzyæ3blok3przerwañ3cyklicznych3nale¿y3w3drzewie3projektu3wybraæ3kolejno3PLCCPUC3ACDCRly3Program3bl3ocks3Add3new3block3i3w3oknie,3które3siê3otworzy3wybraæ3Organization3block3Cyclic3interrupt3.3Dla3tworzonego3bloku3nale¿y3pozostawiæ3domyœlny3parametr3okresu3wyzwalania3czyli33ms3rys.3..3Rys.3.3Dodawanie3i3konfigurowanie3bloku3przerwañ3cyklicznych3Po3stworzeniu3bloku3przerwañ3cyklicznych3nale¿y3w3nim3umieœciæ3regulator3PID.3Przypisanie3nazw3symbolicznych3do3poszczególnych3wejœæ3i3wyjœæ3regulatora3pokazano3na3rys.3..3Rys.3.3Konfiguracja3r3egulator3PID3w3bloku3przerwañ3cyklicznych3OB3Nale¿y3równie¿3odpowiednio3skonfigurowaæ3sam3regulator3PID3rys.3.3.3Wejœcie3i3wyjœcie3z3tego3regulatora3powinno3byæ3typu3PER3rys.3.3z3odpowiednim3skalowaniem3rys.3.3oraz3ograniczon¹3wartoœci¹3wyjœciow¹3rys.3.3Na3rysunku3.3po3kazano3równie¿3wstêpne3wartoœci3nastaw3regulatora3PID.3Ograniczenie3wartoœci3wyjœciowej3wynikaj¹ce3z3jednej3strony3z3minimalnego3sterowania3PWM3powoduj¹cego3obrót3wentylatora3oraz3z3minimalnej3prêdkoœci3obrotowej3powoduj¹cej3unoszenie3siê3pi³eczki3a3z3drug3iej3strony3z3ograniczenia3prêdkoœci3obrotowej3aby3przy3zbyt3du¿ym3sterowaniu3pi³eczka3zbyt3szybko3nie3wysz³a3poza3górny3zakres3pomiaru3czujnika3odleg³oœci.3Eksperymentalnie3ustalono,3¿e3górnym3ograniczeniem3sterowania3powinna3byæ3jego3wartoœæ3o3ok.33p3rzekraczaj¹ca3sterow3anie3powoduj¹ce3pocz¹tek3unoszenia3siê3pi³eczki3do3góry.3Warto3zaznaczyæ,3¿e3w3przypadku3wejœæ3typu3PER3regulator3dokonuje3wewnêtrznego3przeliczenia3sygna³u3na3skalê3procentow¹3od33do3.3W3takiej3skali3nale¿y3równie¿3zadawaæ3reg3ulatorowi3wartoœæ3sterowania3rêcznego3.3Wyjœcie3regulatora3nale¿y3przypisaæ3do3zmiennej3symbolicznej3WartoscPWM3adres3QW3bêd¹cej3bezpoœredni¹3wartoœci¹3przekazywan¹3na3wyjœcie3PWM3.3Nale¿y3równie¿3usun¹æ3z3programu3rêczne3nadawanie3wartoœci3Wart3oscPWM3poniewa¿3mo¿e3to3skutkowaæ3nadpisywaniem3wartoœci3wyliczonej3przez3regulator3PID3.3Rys.3.3Wybór3typu3regulatora3PID3Rys.3.3Definiowanie3rodzaju3wejœæ3i3wyjœæ3regulatora3PID3Rys.3.3Skalowanie3wartoœci3wejœcia3regulatora3PID3Rys.3.3Ograniczenie3zakresu3wartoœci3wyjœciowej3oraz3wstêpne3nastawy3regulatora3PID3Na3panelu3operatorskim3nale¿y3umieœciæ3pola3do3ustawiania3wartoœci3zadanej,3parametrów3regulatora,3wartoœci3sterowania3rêcznego3oraz3wizualizacji3aktualnego3po³o¿3enia3pi³eczki,3prêdkoœci3obrotowej3wentylatora3i3uchybu3sterowania3wymaga3to3zastosowania3równie¿3odpowiedniego3bloku3w3programie3g³ównym.3Widok3przyk³adowego3panelu3operatorskiego3pokazano3na3rys.3..3Rys.3.3Przyk³adowy3panel3operatorski3SCAD3A3dla3uk³adu3sterowania3lewitacj¹3powietrzn¹3Na3tym3etapie3nale¿y3przeprowadziæ3szereg3testów3funkcjonalnych3zbudowanego3uk³adu3regulacji.3Zmiany3parametrów3nale¿y3dokonywaæ3z3panelu3operatorskiego.3Zmieniaj¹c3skokowo3wartoœæ3zadan¹3nale¿y3obserwowaæ3zmia3nê3pozycji3pi³eczki3oraz3stabilnoœæ3utrzymywania3pozycji3wartoœæ3uchybu.3Po3przejœciu3na3sterowanie3rêczne3nale¿y3powtórzyæ3procedurê3wyszukiwania3wartoœci3sterowania,3przy3którym3pi³eczka3zaczyna3siê3podnosiæzaczyna3opadaænie3zmienia3pozycji.3Tym3raze3m3wartoœæ3sterowania3bêdzie3okreœlona3w3skali3od33do3.3Wnioski3z3obserwacji3nale¿y3umieœciæ3w3sprawozdaniu.3Automatyczny3dobór3nastaw3regulatora3PID3U¿ywany3w3æwiczeniu3sterownik3PLC3pozwala3na3stosowanie3procedury3automatycznego3doboru3nastaw3regul3atora3PID.3W3tym3celu3na3bloku3PIDcompact3nale¿y3klikn¹æ3odpowiedni3symbol3rys.3..3Rys.3.3Uruchomienie3procedury3samostrojenia3regulatora3PID3W3wyniku3tego3dzia³ania3otworzy3siê3okno3procedury3samostrojenia3rys.3..3S¹3do3dyspozycji3dwie3procedury3wstêpna3Pretuning3oraz3dok³adana3Fine3tuning.3W3dokumentacji3sterownika3nale¿y3sprawdziæ3kiedy,3której3z3nich3mo¿na3u¿yæ3Kolejnoœæ3dzia³añ3jest3nastêpuj¹ca3w³¹czamy3monitorowanie3parametrów3procesu3,3wybieramy3rodzaj3procedury3,3uruchamiamy3procedurê3.3Rys.3.3Automatyczny3dobór3nastaw3regulatora3PID3333Wynik3procedury3Przebieg3procedury3automatycznego3doboru3nastaw3regulatora3PID3nale¿y3udokumentowaæ3i3umieœciæ3w3sprawozdaniu,3a3efekt3dzia³ania3nowych3nastaw3regulatora3przetestowaæ3tak3samo3jak3w3przypadku3nastaw3wstêpnych3i3opisaæ3to3w3sprawozdaniu.3Zakres3wiadomoœci3na3kolokwium.3Charakterystyka3sterownika3Siemens3Simatic3S33w3konfiguracji3u¿ywanej3w3æwiczeniu3od3strony3sygna³ów3wejœciowych3i3wyjœciowych.3Podstawy3prog3ramo3wania3w3jêzyku3drabinkowym,3elementy3oprogramowania3PLC3znormalizowane3funkcje3FC3i3bloki3funkcyjne3FB3oraz3charakterystyczne3dla3systemu3SIEMENS3bloki3organizacyjne3OB,3Bloki3Danych3DB3i3Typy3Danych3PLC.3Zasada3sterowania3silnikami3pr¹du3sta³ego3za3pomoc¹3sygna³u3PWM.3Metoda3pomiaru3prêdkoœci3obrotowej3oraz3kierunku3obrotu3z3wykorzystaniem3wejœæ3szybkich3liczników.3Zasada3dzia³ania3laserowego3czujnika3odleg³oœci3OADK3USC.3Sprawozdanie.3Sprawozdanie3powinno3zawieraæ3o3pis3funkcjonalny3st3anowiska3æwiczeniowego3u¿yte3e3lementy3i3sposób3ich3po³¹czenia,3s3komentowane3programy3w3jêzyku3drabinkowym3realizuj¹3ce3poszczególne3etapy3æwiczenia,3w3ykresy3pomiarowe3czujnika3odleg³oœci3i3ich3odniesienie3do3danych3katalogowy3ch3tego3czujnika,3w3idoki3panel3u3operatorskiego3na3poszczególnych3etapach3realizacji3æwiczenia.3Nale¿y3te¿3opisaæ3w3³asne3wnioski3wypracowane3podczas3rêcznego3i3automatyczn3ego3sterowania3pozycj¹3pi³eczki3oraz3p3rzebieg3i3efekty3dzia³ania3procedury3automatycznego3doboru3nastaw3regulatora3P3ID.3Literatura3i3dokumentacja3techniczna.3J.Kwaœniewski3Sterowniki3SIMATIC3S33w3praktyce3in¿ynierskiej.3S3Easy3Book3Manual33Konfiguracja4i4uruchomienie4sieci4przemys³owej4PROFINET4SIEMENS4Cel4æwiczenia4Celem4æwi4czenia4jest4konfiguracja4oraz4uruchomienie4rozproszonego4systemu4sterowania4po³¹czonego4z4u¿yciem4sieci4przemys³owej4Profinet.4Sterownik4SIEMENS4S44oraz4HMI4panel4operatorski,4bêdzie4wykorzystany4do4wizualizacji4procesu4automatycznej4regulacji4stano4wiska4do4kontroli4ciœnienia,4wyposa¿onego4w4inny4sterownik4PLC4tj.4TURCK4BL44PG4EN4V.4Wymiana4danych4pomiêdzy4systemami4PLC4bêdzie4realizowana4z4wykorzystaniem4sieci4przemys³owej4Profinet.4Proponowany4sposób4wykonania4æwiczenia4.4Konfiguracja4sprzêt4u4Uruchomiæ4TIA,4otworzyæ4nowy4projekt4pod4dowoln¹4nazw¹.4Dokonaæ4przyk³adowej4konfiguracji4sprzêtu4dla4budowanej4aplikacji4zgodnie4z4konfiguracj¹4rzeczywist¹4stanowiska.4Konfiguracja4jest4podana4w4tabeli4..4Dokonaæ4konfiguracji4kolejno4poszczególnych4modu³ów4Jednostka4centralna4slot44Konfiguracja4portu4sieciowego4Pro4finet4Interface4X4dodaæ4now¹4podsieæ,4wybraæ4opcjê4ustawienia4adresu4IP4w4projekcie4wymagane4jest4ustawienie4adresu4IP4dla4sterownika4S44IP4....4Zaznaczyæ4opcjê4generate4Profinet4device4name4automatically4plc4Czas4cyklu4CPU4pozo4stawiamy4domyœlny44ms.4Panel4operatorski4KTP44Na4etapie4konfiguracji4sprzêtu4poza4przypisaniem4nr4IP4...4panel4nie4wymaga4dodatkowych4czynnoœci4konfiguracyjnych.4Switch4sieciowy4Nie4wymaga4dodatkowych4dzia³añ4podczas4konfiguracji4sprzêt4u.4Po4wprowadzeniu4wszystkich4elementów4nale¿y4je4po³¹czyæ4w4sieæ4zgodnie4ze4schematem4Rys...4Rys...4Schemat4po³¹czenia4urz¹dzeñ.4Sterownik4TURCK4BL44W4katalogu4sprzêtu4Hardware4catalog4szukamy4urz¹dzenia4o4nazwie4CODESYS4generic4PROFIN4ET4Device,4o4nazwie4symbolicznej4CDS4PN4DEVICE.4Jeœli4w4œrodowisku4nie4znaleziono4sterownika,4wymagana4jest4instalacja4plików4konfiguracyjnych,4tzw.4GSDML.4Pliki4konfiguracyjne4mo¿na4pobraæ4ze4strony4producenta4lub4skorzystaæ4z4przygotowanej4paczki4dany4ch4tj.4TURCK4BLPROFINET.zip4udostêpnionej4na4pulpicie.4Instalacjê4nowego4sprzêtu4dokonujemy4korzystaj¹c4z4opcji4OptionsManage4general4station4description4files4GSD.4Uwaga4Podczas4instalacji4nale¿y4wskazaæ4plik4GSDML4V.4TURCK4CDSPNDevice44.xml4znajduj¹cy4siê4w4katalogu4po4rozpakowaniu4archiwum.4Konfiguracja4sieci4Profinet4sterownik4TURCK4W4sieci4Profinet4najwa¿niejszym4parametrem4jest4unikalna4nazwa4urz¹dzenia4oraz4w³aœciwy4adres4IP4Assign4device4nameIP4addres.4Dla4bra4my4TURCK4cdspndevice,4cechy4te4konfigurujemy4w4Device4configurationGeneral4PROFINET4interface4X4Ethernet4adresses4UWAGA4Dla4sterownika4TURCK4nale¿y4ustawiæ4nastêpuj¹cy4ades4IP4oraz4nazwê4IP4...4PROFINET4device4name4TURCKBL4Po4skonfigurowaniu4wszystkich4elementów4systemu,4nale¿y4je4po³¹czyæ4w4sieæ4zgodnie4ze4schematem4Rys..4zak³adka4Network4view.4Rys...4Schemat4po³¹czeñ4urz¹dzeñ4sieci4PROFINET.4Wymiana4danych4w4sieci4Profinet4Sieæ4Profinet4pozwala4na4transfer44bajtów4danych44dane4wejœciowe4i44dane4wyjœciowe.4W4projekcie4zdefiniowano4wymianê4danych4w4dwóch4bajtach4BYTE4sygna³y4statusowe,4liveBIT4ze4sterownika4s44do4sterownika4TURCK4BL,4a4tak¿e4ze4sterownika4TURCK4do4S4,4oraz44s³owach4WORD,4dla4sygna³ów4wartoœæ4zadana,4aktualna4i4stopieñ4wysterowania4zaworu4regulacyjnego.4Dane4musz¹4zostaæ4skonfigurowane4w4systemach4które4chc¹4je4wymieniaæ,4przeciwnie4tzn.4dane4wejœciowe4ze4œrodowiska4Codesys4s¹4danymi4wyjœciowymi4w4TIA.4Zamieszczo4ne4poni¿ej4rysunki4Rys.4.4i4.,4przedstawiaj¹4skonfigurowane4pakiety4danych4sieci4Profinet4w4dwóch4sterownikach.4Rys...4Pakiety4danych4dla4sterownika4S44TIA4Portal4V4Rys...4Pakiety4danych4sterownik4TURCK4BL44Code4SYS4Aby4zap4ewniæ4dostêp4do4danych4ze4sterownika4TURCK,4w4œrodowisku4TIA4Portal,4dla4urz¹dzenia4sieciowego4TURCK4CDSPNDevice4nale¿y4,4zainstalowaæ4odpowiednie4modu³y4przeci¹gaj¹c4je4z4s¹siad4uj¹cego4okna4katalogu4sprzêtu4z4podkatalogu4Module4podkatalog4sterown4ika4CDS4PN4Device,4zgodnie4z4tabel¹4..4Po4wprowadzeniu4konfiguracji4okno4Device4overview,4dla4sterownika4TURCK4CDSPNDevice,4powinno4wygl¹daæ4jak4na4Rys...4Rys...4Device4overview,4dla4sterownika4TURCK4TIA4Portal4V4.4Program4steruj¹cy4Koncepcja4programu4polega4na4stworzeniu4funkcji4FC4odpowiedzialnej4za4k4omunikacjê4ze4sterownikiem4TURCK.4Blok4bêdzie4wywo³ywany4w4OB,4pêtli4g³ównej4programu.4Dostêp4do4zmiennych4procesowych4ma4umo¿liwiaæ4optymalizowany4blok4danych.4W4bloku4tego4typu4to4sterownik4decyduje4o4alokacji4zmiennych4w4pamiêci,4dostêp4do4danych4odbyw4a4siê4tylko4poprzez4symboliczne4nazwy4elementów4bloku.4Sposób4postêpowania4przy4tworzeniu4algorytmu4sterowania4Otworzyæ4tabelê4z4nazwami4symbolicznymi4PLC4Tags4i4zdefiniowaæ4nazwy4zmiennych4u¿ytych4do4testów4tabela4..4.4Aplikacja4SCADA4na4panelu4operatorskim4HMI4KTP4w4œrodowisku4TIA4Portal4Zadanie4ma4na4celu4sprawdzenie4poprawnoœci4dzia³ania4funkcji4komunikacyjnych4w4oparciu4o4sieæ4Profinet,4oraz4wizualizacjê4danych4procesowych4z4oddalonego4stanowiska4kontroli4ciœnienia.4Otworzyæ4tabelê4z4nazwami4symbolicznymi4HMI4Tags4i4powi¹zaæ4je4z4danymi4procesowymi4struktura4TURCK4w4bloku4danych4DB.4Dodaæ4do4projektu4panel4operatorski4HMI4i4utworzyæ4domyœlny4ekran4aplikacji4Home.4Przyk³adowy4panel4startowy4aplikacji4zosta³4pokazany4na4Rys...4Rys...4Przyk³ad4ekranu4startowego4HMI4Zdefiniowaæ4na4tym4ekranie4mo¿liwoœæ4wyboru4pod4ekranów4np.4za4pomoc¹4przycisków4funkcyjnych4PropertiesEventsPress4Key4Edit4bits4SetBit4umo¿liwiæ4przejœcie4do4ch4pod4ekranów4odpowiedzialnych4za4a4podgl¹d4wartoœci4z4procesu4regulacji4ciœnienia4w4zbiorniku4np.4PV,4SP,4VALVE.4W4tym4celu4powi¹zaæ4zmienne4HMITag4z4u¿yciem4elementarnego4pola4IO4field4ekran4parametry4Rys.4.,4b4obserwacjê4przebiegów4czasowych4z4wartoœci4zmiennych4procesowych4SP,4PV.4Ten4krok4wymaga4dodania4i4skonfigurowania4ko4ntrolki4Trend4View4ekran4trend4Rys.4..4Rys...4Ekran4parametry4Rys...4Ekran4trend.4Zakres4wiadomoœci4na4kolokwium4Elementy4organizacyjne4oprogramowania4dla4sterowników4PLC,4wg4normy4fu4nkcje4FC4i4bloki4funkcyjne4FB4oraz4charakterystyczne4dla4systemu4SIEMENS4bloki4organizacyjne4OB,4Bloki4Danych4DB4i4Typy4Danych4PLC.4Zasady4adresacji4danych4w4systemie4SIEMENS.4Typy4danych4i4zmiennych4w4systemach4PLC.4Charakterystyka4sieci4komunika4cyjnej4na4przyk³adzie4przemys³owego4standardu4Profinet.4Sposoby4wymiany4danych4w4sieci4komunikacyjnej4Profinet.4Sprawozdanie4Sprawozdanie4powinno4zawieraæ4schemat4i4opis4konfiguracji4sprzêtu,4dok³adny4opis4realizacji4zadañ4wymiany4danych4oraz4alokacji4z4miennych4dla4u¿ytych4sterowników4PLC.4Nale¿y4tak¿e4udokumentowaæ4wygl¹d4ekranów4z4utworzonego4podczas4æwiczenia4interfejsu4u¿ytkownika4HMI4oraz4zaprezentowaæ4zarejestrowany4przebieg4czasowy4dla4wybranych4zmiennych4procesowych.4Literatura4i4dokumentacja4techniczna4Tomasz4Gilewski4Podstawy4programowania4sterowników4SIMATIC4S44w4jêzyku4SCL4Dobór5nastaw5regulatorów5przemys³owych.5Cel5æwiczenia.5Zapoznanie5siê5z5niektórymi5metodami5strojenia5i5samostrojenia5regulatorów5przemys³owych5na5podstawie5metod5Zieglera5Nicholsa,5Astroma5Hagglunda,5Takahashi5ego.5Zapoznanie5siê5z5praktyczn¹5realizacj¹5procedury5samostrojenia5w5seryjnie5produkowanym5regulatorze.5Fot.5.5Stanowisko5z5regulatorem5EFTRONIK5XS5Opis5aparatury.5DTR5regulatora5EFT5RONIK5XS.5Obiekt5regulacji5Dodatek55instrukcji.5Opis5stanowiska.5Uproszczony5schemat5po³¹czeñ5elektrycznych5stanowiska5jest5pokazany5na5rys.5..5Rys.5..5Uproszczony5schemat5stanowiska5z5zamkniêtym5uk³adem5regulacji.55kEFTRONIK5XS5AI55DI55DI55DI5DO55DO55DO5AO55wyjœcie5obiektu5V5DC5ANSP5zak³óceniewejœcie5obiektu5kEFTRONIK5XS5AI55DI55DI55DI55DI5DO55DO55DO55DO5AO55wyjœcie5obiektu5V5DC5ANSP5zak³óceniewejœcie5obiektuMa5ono5postaæ5szafy5z5umieszczo5nym5w5jej5górnej5czêœci5regulatorem,5w³¹cznikiem5sieciowym5oraz5wskaŸnikami5stanu5wejœæ5i5wyjœæ5binarnych5i5prze³¹cznikami5s³u¿¹cymi5do5zadania5sygna³u55lub55na5wejœcia5binarne.5W5dolnej5czêœci5szafy5jest5umieszczony5obiekt5regulacji5typu5cieplnego5opis5obiektu5zob.5Dodatek5.5Na5œcianie5czo³owej5obiektu5znajduje5siê5zespó³5prze³¹czników55s³u¿¹cych5do5wyboru5wyjœcia5obiektu5do5badañ.5Poni¿ej5znajduje5siê5wskaŸnik5analogowy5wyskalowany5w55pokazuj¹cy5sterowanie5bezpoœrednio5podawane5na5obiek5t.5Obok5wskaŸnika5znajduje5siê5zadajnik5ANS55,5z5którego5za5poœrednictwem5przycisku5P5mo¿na5podawaæ5zak³ócenie5na5wejœcie5obiektu.5Wykonanie5æwiczenia.5.5Uruchomienie5stanowiska,5sprawdzenie5poprawnoœci5dzia³ania5wszystkich5elementów.5wszelkie5z5g³aszane5alarmy5nale¿y5zlikwidowaæ5podaj¹c5logiczn¹55na55te5wejœcie5dyskretne5regulatora.5Dla5jednego5z55wyjœæ5obiektu5dobraæ5nastawy5rêcznie5i5automatycznie5.5Rêczny5dobór5nastaw5regulatora5metod¹5Zieglera5Nicholsa.5Ustawiæ5regulator5na5pracê5pro5porcjonaln¹5poprzez5ustawienie5Ti55oraz5Td55.5Ustawiæ5skalê5bargrafu5sygna³u5uchybu5na5wartoœæ5.5ZnaleŸæ5wzmocnienie5krytyczne5uk³adu5zamkniêtego5na5podstawie5przebiegów5sygna³u5wyjœciowego5uk³adu5zamkniêtego.5Uwaga5Wzmocnienie5krytyczne5jest5w5zakresie5od5.5do5.5.5Nale¿y5wiêc5pocz¹tkowo5ustawiæ5P.,5podaæ5na55sekund5skok5zak³ócaj¹cy5z5zadajnika5ANS55czerwony5przycisk,5oraz5zarejestrowaæ5odpowiedŸ5uk³adu5z5prêdkoœci¹5przesuwu5rejestratora5sekcm.5trzy5okresy5oscylacji.5Po5malej5¹cej5amplitudzie5przebiegu5widaæ5bêdzie5i¿5wzmocnienie5jest5zbyt5ma³e.5W5nastêpnym5kroku5nale¿y5zbadaæ5drugie5skrajne5wzmocnienie5czyli5P.5parametry5rejestracji5jak5poprzednio.5Tym5razem5amplituda5zwiêksza5siê,5co5oznacza5przekroczenie5granicy5stabiln5oœci.5I5tak5w5kolejnych5iteracjach5zmieniaj¹c5wzmocnienie5z5krokiem5pocz¹tkowym5równym5.5czyli5P5.,5.,5.5...5nale¿y5wyznaczyæ5K5kryt.5Obserwuj¹c5przebieg5trzeba5równie¿5zwróciæ5uwagê5na5wartoœci5sterowañ5wychodz¹cych5z5regulatora5w5przypadk5u5bardzo5szybkich5zmian5od55do55faktycznie5sterowanie5dwupo³o¿eniowe5wyst¹pi¹5te¿5oscylacje5o5sta³ej5amplitudzie,5ale5spowodowane5jedynie5fizycznymi5ograniczeniami5sygna³u5steruj¹cego.5Œwiadczyæ5to5bêdzie5o5zbyt5du¿ej5wartoœci5wzmocnienia.5Podawanie5skoku5zak³ócaj¹cego5przy5kolejnych5próbach5nie5jest5wskazane.5Przy5sprawnym5prowadzeniu5æwiczenia5zgodnie5z5instrukcj¹,5oscylacje5na5wyjœciu5z5obiektu5nie5powinny5wygasn¹æ.5Gdyby5jednak5do5tego5dosz³o5nale¿y5powtórzyæ55sto5sekundowy5skok5zak³ócaj¹cy.5Po5osi¹gniêciu5granicy5stabilnoœci5oscylacje5niet³umione5nie5wymaga5siê5tutaj5idealnej5precyzji5trzeba5zarejestrowaæ5z5prêdkoœci¹5przesuwu55sekcm.5w5celu5dok³adnego5odczytu5ich5okresu.5Na5podstawie5odnalezionego5K5kryt5i5Tosc5wyznaczyæ5nastawy5regul5atora5zgodnie5z5wzorami5Zieglera5Nicholsa.5Wprowadziæ5obliczone5nastawy5do5pamiêci5regulatora.5Zarejestrowaæ5na5rejestratorze5odpowiedŸ5zamkniêtego5uk³adu5regulacji5na5skok5zak³ócenia5o5wartoœci55na5wejœciu5obiektu5prêdkoœæ5rejestracji55sek.cm..5Skok5zak³ócaj¹cy5podaje5siê5tym5razem5na5sta³e5pocz¹tkowo5widoczny5wzrost5sygna³u5wyjœciowego5z5obiektu5jest5sprowadzany5automatycznie5do5poziomu5sprzed5podania5skoku5poprzez5odpowiedni¹5zmianê5sterowania5z5regulatora.5Pe³ny5obraz5zmian5daje5porównanie5sygna³u5sterowania5z5regulatora5i5ca³kowitego5sygna³u5wejœciowego5obiektu.5Gdy5sygna³5powróci5do5pierwotnego5poziomu5i5w5miarê5siê5ustabilizuje5pewne5minimalne5oscylacje5bêd¹5wystêpowa³y5zawsze5nale¿y5wy³¹czyæ5skok5zak³ócaj¹cy5i5zarejestrowaæ5przebieg5ta5k5jak5poprzednio.5W5tym5przypadku5bêdzie5to5te¿5zak³ócenie5ale5o5przeciwnej5polaryzacji.5.5Automatyczny5dobór5nastaw5regulatora5metod¹5Astroma5Hagglunda.5Doprowadziæ5uk³ad5do5po³o¿enia5równowagi5np.5na5nastawach5wyznaczonych5rêcznie5,5Ustawiæ5pa5rametry5procedury5samostrojenia5zgodnie5z5poni¿sz¹5tabel¹5Adres5Wartoœæ5Opis555Maksymalny5czas5trwania55etapu5identyfikacji,5okreœlony5przez5zastêpcz¹5sta³¹5czasow¹5obiektu.555Dopuszczalna5amplituda5wahañ5sygn.5steruj¹cego555Dopuszczalny5zakres5wahañ5wielkoœci5mierzonej5przed5eksperymentem5wartoœæ5wpisana5dzielona5jest5przez55.555Dopuszczalny5zakres5wahañ5wielkoœci5mierzonej5podczas5eksperymentu.555Nastawy5wyliczane5dla5reg.5PID555Nastawy5w5prowadzane5automatycznie.5Uruchomiæ5procedurê5samostrojenia5oczywiœcie5bez5podawania5skoku5zak³ócaj¹cego.5Przebieg5sygna³u5wyjœciowego5uk³adu5rejestrowaæ5na5rejestratorzesek.cm..5Na5wykresie5zaznaczyæ5poszczególne5etapy5procedury.5Zwróciæ5uwagê5na5wartoœæ5sterowania5pod5koniec5drugiego5etapu5i5przez5ca³y5trzeci5etap5samostrojenia.5Odczytaæ5z5regulatora5otrzymane5wartoœci5nastaw,5porównaæ5z5nastawami5otrzymanymi5metod¹5Zieglera5Nicholsa.5Odczekaæ5na5ustabilizowanie5siê5wyjœcia5obiektu.5Przebadaæ5i5zarejestrowaæ5sek.cm5zachowanie5uk³adu5przy5otrzymanych5nastawach5dla5sta³ego5skoku5zak³ócaj¹cego5o5wartoœci55analogicznie5jak5dla5nastaw5z5metody5Zieglera5Nicholsa.5Porównaæ5zachowanie5uk³adu5przy5obu5zestawach5nastaw.5UWAGA5Zwróciæ5uwagê5n5a5fakt,5¿e5wartoœæ5wspó³czynnika5filtracji5sygna³u5wejœciowego5ma5wp³yw5ma5wartoœci5nastaw5PID5zarówno5przy5rêcznym5,5jak5i5automatycznym5doborze5nastaw5Zastanowiæ5siê,5dlaczego5Zakres5wymaganych5wiadomoœci.5Metody5doboru5nastaw5regulatorów5przemys5³owych5metody5cyklu5granicznego5metoda5Zieglera5Nicholsa5,5metoda5Astroma5Hagglunda5,5metody5oparte5o5znajomoœæ5parametrów5odpowiedzi5skokowej,5wskaŸniki5jakoœci5regulacji,5wp³yw5filtracji5sygna³u5wejœciowego5na5wartoœæ5nastaw5w5regulatorze5EFTRONI5K5XS,5obs³uga5panelu5operatorskiego5w5regulatorze5EFTRONIK5XS5funkcje5wyœwietlaczy5i5przycisków,5parametry5i5uruchamia5nie5procedury5samostrojenia.5Sprawozdanie.5Sprawozdanie5powinno5zawieraæ5uproszczony5schemat5badanego5uk³adu,5otrzymane5podczas5ekspe5rymentów5wykresy5uzupe³nione5o5opis5i5uk³ady5wspó³rzêdnych,5tabelki5zawieraj¹ce5otrzymane5wartoœci5nastaw5regulatora5dla5jednego5wybranego5wyjœcia5obiektu5oraz5obu5metod,5próbê5objaœnienia5ró¿nic5pomiêdzy5wartoœciami5nastaw5otrzymanymi5obiema5metodami.5Asynchroniczny6silnik6klatkowy6z6falownikiem6Cel6æwiczenia.6Zapoznanie6siê6z6konfiguracj¹6i6uruchomieniem6napêdu6elektrycznego6z6falownikiem.6Opis6aparatury.6Opis6katalogowy6falownika6SIEMENS6MICROMASTER6.6Instrukcja6obs³ugi6falownika6S6IEMENS6MICROMASTER66Opis6oprogramowania6SIMANICS6v..6STARTER6Systemy6pomocy6kontekstowej6oprogramowania6SINAMICS6.6STARTER6Opis6stanowiska6laboratoryjnego.6Silnik6elektryczny6z6falownikiem6i6zespo³em6prze³¹czników6jest6pokazany6na6rys.6..6Rys.6..6Silnik6elektryczny6z6falownikiem6i6osprzêtem.6Sk³ada6siê6ono6z6nastêpuj¹cych6zasadniczych6czêœci6standardowego6komputera6klasy6PC6z6konwerterem6USB6RS6i6oprogramowaniem6konfiguracyjnym,6falownika,6silnika6elektrycznego6oraz6zespo³u6prze³¹cznik6ów6z6potencjometrem6do6zadawania6napiêcia6wejœciowego.6Dodatkowym6elementem6stanowiska6jest6laserowy6czujnik6prêdkoœci6obrotowej,6u¿ywany6do6zdejmowania6charakterystyk6statycznych6silnika.6Wykonanie6æwiczenia.6W³¹czyæ6komputer6i6zasilanie6obiektu,6uruch6omiæ6oprogramowanie6SINAMICS6.6STARTER6.6Skonfigurowaæ6po³¹czenie6pomiêdzy6œrodowiskiem6konfiguracyjnym6i6falownikem6Options6set6PGPC6interface.6Ustawiæ6PC6COM6port6USS,6po6ustawieniu6uruchomiæ6diagnostykê6Diagnostics6rys6.6i6sprawdziæ6widoczno6œæ6falownika6Test6slaves6rys6.6Rys6..6Konfiguracja6po³¹czenia6komputera6z6falownikiem6Rys...6Sprawdzanie6poprawnoœci6konfiguracji6po³¹czenia6Za³o¿yæ6nowy6projekt6korzystaj¹c6z6Wizarda,6wyszukuj¹c6pod³¹czony6falownik6w6trybie6on6line6Find6drive6units6online6zob6rys6..6Rys6..6Wizard6do6zak³adania6projektu6Skonfigurowaæ6podstawowe6parametry,6kolejnoœæ6dzia³añ6Wybieramy6opcjê6Configuration6Reconfigure6drive.6Rys.6..6G³ówne6menu6wybranego6falownika6Parametry6nale¿y6ustawiæ6nas6têpuj¹ce6Standard6typ6sieci6w6danym6kraju6Europa,6Hz,6Motor6dane6silnika6odczytaæ6z6tabliczki6znamionowej,6Tryb6pracy6Vf6z6charakterystyk¹6liniow¹,6ród³o6sygna³ów6steruj¹cych6ustawienia6fabryczne,6wartoœæ6zadana6prêdkoœci6sta³a6czêstotliwoœæ6lub6analog6set6point6dla6sterowania6z6poziomu6zadajnika.6Parametry6g³ówne6pozostawiæ6wyznaczone,6Wyliczenie6parametrów6silnika6wyliczyæ6kompletne,6Po³¹czyæ6komputer6z6falownikiem6opcja6Connect6to6selected6devices.6Poprawne6po³¹czenie6jest6sygnalizowa6ne6komunikatem6drive6ready.6Za³adowaæ6projekt6do6pamiêci6falownika6uwaga6zapis6trwa6doœæ6d³ugo6i6komputer6mo¿e6dzia³aæ6wtedy6niestabilnie.6Zdefiniowaæ6tabelê6do6monitorowania6zmiennych6opcje6MonitorWatchtabelle,6dodaæ6do6tabeli6z6listy6eksperta6Expert6List6nastêpuj¹ce6parametry6czêstotliwoœæ6r,6prêdkoœæ6obrotow¹6r6napiêcie6na6wejœciu6analogowym6r6oraz6napiêcie6na6wyjœciu6falownika6r6Mo¿na6te¿6dodaæ6inne6interesuj¹ce6parametry6np.6stany6prze³¹czników6znaleŸæ6w6dokumentacji.6Wyg6l¹d6tabeli6zob.6rys6rys...6Rys...6Tabela6do6monitorowania6zmiennych6Otworzyæ6panel6steruj¹cy,6odblokowaæ6mo¿liwoœæ6uruchomienia6napêdu6Assume6Control6priority,6zaznaczyæ6mo¿liwoœæ6zadania6czêstotliwoœci6bazowej,6wpisaæ6czêstotliwoœæ6np.66Hz6oraz66Hz6uruchomiæ6napêd6i6sprawdziæ6dzia³anie6rys6.6Zbadaæ6zale¿noœæ6prêdkoœci6obrotowej6od6zadanej6czêstotliwoœci6dla6liniowej6charakterystyki6Vf.6Czêstotliwoœæ6zadan¹6zmieniaæ6w6zakresie666Hz6co6Hz,6prêdkoœæ6obrotow¹6odczytywaæ6notowaæ6niezale¿nie6z6u¿yciem6czujnika6laserowego6oraz6na6panelu6steruj¹cym6po6prawej6stronie6mo¿na6ustawiæ6odczyt6prêdkoœci6obrotowej.6W6sprawozdaniu6wyznaczyæ6ró¿nicê6pomiêdzy6wartoœciami6zmierzonymi6i6odczytanymi6i6uzasadniæ,6sk¹d6siê6wziê³a6Rys...6Pa6nel6steruj¹cy.6Zamkn¹æ6panel6steruj¹cy,6uruchomiæ6falownik6prze³¹cznikiem6startstop6i6wyznaczyæ6zale¿noœæ6pomiêdzy6prêdkoœci¹6obrotow¹6silnika6i6napiêciem6wejœciowym6zmieniaj¹c6napiêcie6co6V6dla6dwóch6charakterystyk6Vf6liniowej6i6parabolicznej.6Zmiana6tego6parametru6Drive6Configuration6Operating6Mode.6Pamiêtaæ6o6zapisaniu6zmian6do6pamiêci6falownika6download6to6target.6Napiêcie6wejœciowe6i6czêstotliwoœæ6odczytywaæ6w6tabeli,6prêdkoœæ6obrotow¹6z6u¿yciem6czujnika6laserowego.6Sprawdziæ6dzia³anie6n6apêdu6podczas6zmiany6kierunku6obrotów6prze³¹cznik.6UWAGA6.6Aby6skorzystaæ6z6zewnêtrznego6zadajnika6prêdkoœci6nale¿y6wybraæ6jako6Ÿród³o6sygna³ów6steruj¹cych6np.6USS6on6COM6LINK6Analog6set6point.6.6Aktywny6panel6steruj¹cy6blokuje6mo¿liwoœæ6sterow6ania6silnikiem6z6poziomu6zespo³u6prze³¹czników6Zdefiniowaæ6ró¿ne6wartoœci6czasów6rozbiegu6i6hamowania6Drive6Navigator6Limiter6Ramp6Function6Generator6Options6zob.6rys6..6Ustawiæ6wartoœci6rozbieg6i6hamowanie6s,6s,6s6w6ró¿nych6kombinacjach.6Sprawdziæ6dzia³anie6poprzez6pomiar6czasów6rozbiegu6i6hamowania6dla6ró¿nych6ustawionych6wartoœci.6Rys...6Konfiguracja6czasów6rozbiegu6i6hamowania.6Sprawozdanie6Sprawozdanie6powinno6zawieraæ6uproszczony6schemat6blokowy6uk³adu,6przebiegi6zbadanych6charakterystyk6i6opis6wykonanych6dzia³añ.6Zakres6wymaganych6wiadomoœci6Budowa,6zasada6dzia³ania6i6sterowanie6prac¹6silnika6asynchronicznego.6Konstrukcja6i6zasada6dzia³ania6falownika.6Zasady6konfiguracji6falowników6SIEMENS6MICROMASTER.6SIEMENS7S77funkcje7definiowane7przez7u¿ytkownika7jêzyk7drabinkowy7LD7Cel7æwiczenia7Zapoznanie7siê7z7funkcjami7definiowanymi7przez7u¿ytkownika7oraz7jêzykiem7LD7na7przyk³adzie7S7.7W7ramach7wykonania7æwiczenia7nale¿y7samodzielnie7zbudowaæ7funkcjê7re7alizuj¹c¹7sumator7dwóch7liczb77bitowych7bez7znaku7zakres7ka¿dej7z7liczb7od77do7.7Sumator7ma7byæ7zrealizowany7z7u¿yciem7wy³¹cznie7zmiennych7binarnych7.7Wartoœæ7wyniku7ma7zakres7od77do77jest7to7liczba77bitowa.7Za³ó¿my,7¿e7liczby7wejœciowe7s¹7oznacz7one7jako7a7oraz7b,7a7ich7wynik7jako7y.7Operacja,7która7ma7byæ7realizowana,7mo¿e7byæ7zapisana7jako7y7a7b7.7Ka¿da7z7tych7liczb7mo¿e7byæ7zapisana7tak,7jak7w7tabeli7..7Symbole7z7tabeli7.7bêd¹7póŸniej7u¿ywa7ne7w7zapisie7funkcji.7Operacja7sumowania7z7u¿yciem7notacji7z7tabeli7.7mo¿e7byæ7zapisana7nastêpuj¹co7y7y7y7x7x7x7x7.7Funkcja7logi7czna7realizuj¹ca7sumator7mo¿e7byæ7zapisana7z7u¿yciem7tabeli7Karnaugha7..7W7komórkach7tabeli7wynik7zapisany7jest7jako7y7y7y.7bx7x77777777777777777777777777777777777777777777777777777777Po7minimalizacji7funkcji7zapisanej7w7tabeli7.7sprawdziæ,7czy7poni¿sza7minimalizacja7jest7poprawna7poszczególne7bity7wyniku7s¹7wyra¿one7nastêpuj¹co7.a7.b7.c7Proponowany7sposób7wykonania7æwiczenia7.7Uruchomiæ7TIA7PORTAL,7za³o¿yæ7nowy7projekt7z7konfiguracj¹7hadrwareu7identyczn¹7jak7w7æwiczeniu7PL7CHMI.7.7Do7projektu7wstawiæ7cztery7funkcje7zwracaj¹ce7wynik7typu7BOOL7o7nazwach7zastrze¿onych7FC,7FC,7FC,7FC7Program7Blocks7Add7New7Block7wybraæ7Function7i7jêzyk7LAD.7Funkcje7te7maj¹7realizowaæ7ustawienie7poszczególnych7bitów7wyniku7zgodnie7z7.a7.c7oraz7wystawienie7gotowego7wyniku7na7wyjœcie.7Wystawienie7wyniku7na7wyjœcie7zrealizowaæ7poprzez7odwo³anie7do7nazwy7funkcji,7w7tym7celu7nale¿y7pamiêtaæ7o7zdefiniowaniu7nazwy7zwracanej7Dla7tych7funkcji7mo¿na7zdefiniowaæ7nazwy7symboliczne.7Opisy7tyc7h7funkcji,7ich7zmienne7wejœciowe,7wyjœciowe7i7wewnêtrzne7oraz7sugestia7nazw7symbolicznych7s¹7podane7w7tabeli7..7.7Dla7wszystkich7funkcji7zdefiniowaæ7zmienne7wejœciowe,7wyjœciowe7i7wewnêtrzne7zgodnie7z7sugestiami7w7tabeli7..7Nastêpnie7zapisaæ7algorytm7dzia³ania7funkcj7i7FC7FC7zgodnie7z7wzorami7.a7.c7z7u¿yciem7jêzyka7drabinkowego7.7.7W7obrêbie7funkcji7FC7zrealizowaæ7bezwarunkowe7wywo³anie7pozosta³ych7w7takiej7kolejnoœci,7aby7ich7wyjœcia7przypisaæ7do7wyjœæ7funkcji7FC7zgodnie7z7zapisem7..7.7W7projekcie7zdefin7iowaæ7zmienne7PLC7odpowiednik7zmiennych7reprezentowanych7bezpoœrednio7wg7normy7opisane7w7tabeli7..7Bêd¹7one7u¿ywane7do7komunikacji7z7HMI,7wprowadzania7wejœæ7oraz7odczytu7wyników7dzia³ania7programu.7UWAGA7Sens7osobnego7definiowania7zmiennych7typu7BYTE7oraz7typu7BOOL7odnosz¹cych7siê7do7tych7samych7obszarów7pam7iêci7np.7por7MB7i7M.,7M.7jest7taki,7¿e7mo¿na7z7u¿yciem7zmiennych7typu7BOOL7mo¿na7ustawiaæ7pojedyncze7bity7w7zmiennej7typu7BYTE.7.7Wywo³aæ7funkcjê7wynik7w7bloku7organizacyjnym7OB7i7przypisaæ7do7poszczególnych7wejœæ7i7wyjœæ7tej7funkcji7zmienne7globa7lne7opisane7w7tabeli7.7w7nastêpuj¹cy7sposób7.7Na7ekranie7HMI7zdefiniowaæ7mo¿liwoœæ7wprowadzania7wartoœci7zmiennych7globalnych7a7i7b7oraz7odczytu7zmiennej7globalnej7y.7Mo¿na7to7zrobiæ7przeci¹gaj¹c7odpowiednie7zmienne7z7tabeli7PLC7Tags7bezpoœrednio7na7ekran.7Po7przeci¹gniêciu7pojawiaj¹7siê7odpowiednie7okna7dialogowe7do7wpisywanie7wartoœci.7.7Za³adowaæ7zbudowany7program7na7sprzêt7i7sprawdziæ7dzia³anie7programu7wpisuj¹c7wartoœci7zmiennych7wejœciowych7i7odczytuj¹c7wynik7na7panelu7operatorskim.7.7Jak7wystarczy7czasu.7Dla7zmiennych7wprowadzanych7z7panelu7zdefiniowaæ7sprawdzanie7poprawnoœci7zakresu7poprawny7zakres7to7od77do7.7Zakres7wiadomoœci7na7kolokw7ium7Zasady7adresacji7danych7w7systemie7SIEMENS.7Ró¿nice7pomiêdzy7funkcj¹7i7blokiem7funkcyjnym7w7programowaniu7PLC.7Zmienne7bezpoœrednio7reprezentowane7i7zmienne7PLC7w7SIEMENSIE.7Jêzyk7drabinkowy7podstawowe7elementy7styki7i7cewki,7regu³y7interpretacji7programu.7Sprawozdanie7Sprawozdanie7powinno7zawieraæ7schemat7drabinkowy7realizacji7zadania7oraz7opis7zmiennych7aplikacji7SCADA.7Pakiet8VisiDaq8do8realizacji8bezpoœredniego8sterowania8cyfrowego.8Cel8æwiczenia.8Zapoznanie8siê8przyk³adowym8oprogra8mowaniem8pozwalaj¹cym8na8realizacjê8sterowania8cyfrowego8w8oparciu8o8komputer8klasy8PC8oraz8zapoznanie8siê8z8przyk³adem8interfejsu8procesowego8dla8komputera8klasy8PC.8Opis8aparatury.8Podrêcznik8u¿ytkownika8GENIE8.8VisiDa8q8plik8GeniDaq.pdf,8opisy8techniczne8mo8du³ów8DAQ8ADAM8odpowiedni8katalog8na8stronie8internetowej8Fot.8.8Modu³y8ADAM88z8podpiêtymi8czujnikami8i8lamp¹8Opis8stanowiska.8Stanowisko8laboratoryjne8sk³ada8siê8z8komputera8PC8oraz8stacji8akwizycji8danych8ADAM8wyposa¿onej8w8odpowie8dnie8modu³y8wewy.8Wykonanie8æwiczenia.8Pierwsza8czêœæ8æwiczenia8ma8za8zadanie8zapoznanie8studenta8z8technik¹8tworzenia8aplikacji8w8œrodowisku8GENIE8VisiDaq8.8W8tym8celu8nale¿y8przed8zajêciami8samodzielnie8w8domu8zrealizowaæ88zadañ8wprowadzaj¹cych8opisanych8w8p8odrêczniku8u¿ytkownika8Genie8w8rozdziale8TUTORIAL.8Wersja8demonstracyjna8programu8GENIE8jak8równie¿8VisiDaq8i8AdamView8bêd¹cymi8kolejnymi8ods³onami8tego8œrodowiska8znajduje8siê8na8stronie8internetowej.8Druga8czêœæ8æwiczenia8polega8na8zbudowaniu8prostej8aplikacji8zaawansowanego8wy³¹cznika8zmierzchowego.8Aplikacja8powinna8realizow8aæ8nastêpuj¹ce8funkcje8pomiar8i8wyœwietlanie8na8ekranie8aktualnego8poziomu8oœwietlenia8spodziewany8zakres8napiêciowy8sygna³u888mV8w³¹czenie8lampy8na8pewien8zadany8czas,8gdy8poziom8oœwietlenia8spadnie8poni¿ej8wartoœci8progowej8wizualizacja8czasoweg8o8przebiegu8aktualnego8oœwietlenia8i8zadanego8progu8zadzia³ania8mo¿liwoœæ8niezale¿nego8od8czujnika8sta³ego8w³¹czenia8lampy8przycisk8mo¿liwoœæ8zablokowania8automatu8w³¹czaj¹cego8lampê8przycisk8pomiar8temperatury8otoczenia8z8termometru8PT88Wszelki8e8parametry8kontrolne8zadawane8maj¹8byæ8z8poziomu8panelu8operatorskiego8za8pomoc¹8odpowiednich8elementów8czas8w³¹czenia8lampy8ustawiany8za8pomoc¹8cyfrowego8pola8sterowania8Numeric8Control8Display8Item8wartoœæ8pocz¹tkowa8sek.,8skok8sek.,8maksymalnie88sek.8wartoœæ8progowa8ustalana8za8pomoc¹8suwaka8Slider8Control8Display8Item8Dzia³anie8strategii8powinno8byæ8nastêpuj¹ce8jeœli8oœwietlenie8spadnie8poni¿ej8ustawionego8progu,8lampa8zapala8siê8na8okreœlony8czas.8Jeœli8podczas8œwiecenia8lampy8poziom8oœw8ietlenia8wzroœnie8powy¿ej8zadanego8progu8lampa8ma8zgasn¹æ.8Przy8wciœniêtym8przycisku8blokady8automatu8spadek8oœwietlenia8poni¿ej8progu8nie8w³¹cza8lampy.8Niezale¿ny8w³¹cznik8lampy8ma8najwy¿szy8priorytet8i8niezale¿nie8od8poziomu8oœwietlenia8mo¿e8w³¹czyæ8la8mpê.8Uwaga8Nale¿y8tak8ustawiæ8lampê,8aby8nie8oœwietla³a8czujnika8generowa³oby8to8ci¹g³e8oscylacje8w8uk³adzie.8Typowy8schemat8po³¹czeñ8sprzêtowych8dla8ADAMów88przedstawia8poni¿szy8rysunek8Rys.8.8Pod³¹czenie8modu³u8ADAM8do8komputera8PC8W8na8szym8przypadku8korzystamy8tylko8z8jednej8stacji8bazowej8ADAM88co8pozwala8na8bezpoœrednie8pod³¹czenie8do8komputera8poprzez8z³¹cze8RS.8Od8strony8funkcjonalnej8nie8zmienia8to8niczego8wszelkie8ustawienia8dla8magistrali8RS8zachowuj¹8swoj¹8wa¿noœæ.8Stacja8bazowa8ADAM88posiada8w8sieci8RS8adres8h8i8wyposa¿ona8jest8w8nastêpuj¹ce8modu³y8kontrolno8pomiarowe8ADAM8dyskretne8wyjœcia8przekaŸnikowe8gniazdo88ADAM8wejœcia8analogowe8gniazdo88ADAM8wejœcia8termometru8oporowego8P8T8gniazdo88Lampa8zasilana8z8sieci8V8zosta³a8pod³¹czona8poprzez8zewnêtrzny8zabezpieczaj¹cy8przekaŸnik8do8wyjœcia88modu³u8ADAM.8Uaktywnienie8tego8wyjœcia8powoduje8w³¹czenie8lampy.8Czujnik8oœwietlenia8to8ma³e8fotoogniwo.8Pr¹d8zwarciowy8fotoo8gniwa8jest8proporcjonalny8do8oœwietlenia.8Napiêcie8proporcjonalne8do8pr¹du8zwarciowego8podawane8jest8na8wejœcie88modu³u8ADAM8.8Do8zerowego8kana³u8modu³u8ADAM88podpiêto8termometr8oporowy8PT.8S³u¿y8on8do8pomiaru8temperatury8otoczenia,8a8umieszczo8ny8w8polu8œwiat³a8lampy8doskonale8pokazuje8jak8du¿o8ciep³a8ona8dostarcza.8Kolejna8czêœæ8æwiczenia8obejmuje8realizacjê8dwupo³o¿eniowego8uk³adu8stabilizacji8temperatury8lampa8to8grzejnik8a8termometr8to8obiekt8z8czujnikiem.8Ca³y8uk³ad8stabilizacji8powinien8byæ8zrealizowany8w8osobnym8Tasku8i8posiadaæ8w³asny8Display8z8wizualizacj¹8pomiaru8temperatury.8Oba8zadania8wy³¹cznik8zmierzchowy8i8stabilizacja8temperatury8z8oczywistych8wzglêdów8nie8mog¹8byæ8wykonywane8jednoczeœnie,8dlatego8na8odpowiednich8display8ach8musz¹8zostaæ8umieszczone8przyciski8uruchamiaj¹cezatrzymuj¹ce8poszczególne8zadania.8Ostatni¹8czêœci¹8æwiczenia8jest8napisanie8skryptu8w8jêzyku8Basic8post8task8,8który8spowoduje8¿e8w8przypadku8zatrzyman8ia8strategii8lampa8zostanie8wy³8¹czona8wszy8stkie8wyjœcia8przekaŸnikowe8zostan¹8wyzerowane.8Studenci8maj¹8woln¹8rêkê8przy8pisani8u8tego8skryptu,8jednak8warto8w8nim8skorzystaæ8z8bezpoœredniej8komunikacji8z8ADAMem8za8pomoc¹8znaków8ASCI8z8bloku8RS8.8Zakres8wymaganych8wiadomoœci.8Zasady8tworzenia8aplikacji8w8œrodowisku8Genie8.,8budowa,8dzia³anie8i8sposoby8programowania8modu³ów8zdalnej8akwizycji8danych8i8sterowania8szczególnie8ADAM,8ADAM,8ADAM,8ADAM,8zasady8budowania8rozproszonych8systemów8sterowania8w8oparciu8o8magistralê8RS.8Sprawozdanie.8Sprawozdanie8powinno8zawieraæ8krótki8opis8pakietu8VisiDa8q8,8jego8zalety8i8wady.8Szczegó³owo8nale¿y8opisaæ8przebieg8drugiej8czêœci8æwiczenia8budowa8prostej8aplikacji8umieszc8zaj¹c8odpowiednie8rysunki8obszaru8roboczego8i8panelu8operatorskiego.8Materia³y8pomocnicze8do8æwiczenia8.8Aby8przedstawiæ8pewne8zagadnienia8zwi¹zane8z8realizacj¹8æwiczenia8zostanie8zaprezentowana8realizacja8krok8po8kroku8przyk³adowej8strategii8w8œr8odowisku8Advantech8Genie.8Zadania8realizowanej8aplikacji8s¹8nastêpuj¹ce8budowa8stopera8odliczaj¹cego8w8dó³8zadany8czas8sygnalizacja8w³¹czenia8odliczania8prezentacja8iloœci8sekund8pozosta³ych8do8wy³¹czenia8stopera8wizualizacja8trzech,8odpowiednio8przeska8lowanych8przebiegów8z8wejœæ8analogowych8sterowanie8przebiegiem8strategii8wstrzymaniewznowienie8prze³¹czanie8pomiêdzy8kilkoma8panelami8operatorskimi8Zaczynamy8od8uruchomienia8programu8Genie8i8stworzenia8nowej8strategii8File8New.8W8obszarze8TASK8D8ESIGNERa8umieszczamy8kolejno8wszelkie8potrzebne8nam8ikony8wejœæ8analogowych8AI,8zegarka,8TAGów8i8operacji8matematycznych8SOC.8Umieszczenie8odpowiedniej8ikony8polega8na8klikniêciu8jej8symbolu8w8obszarze8TOOLBOXa,8a8nastêpnie8wskazaniu8jej8po³o¿enia8w8ob8szarze8TASKa8kursor8ma8wtedy8postaæ8krzy¿a8i8ponownym8klikniêciu.8Teraz8pora8zaj¹æ8siê8panelem8operatorskim.8Umieszczamy8na8nim8przycisk8do8uruchamiania8stopera8Conditional8Button,8Trend8Graph8do8czasowej8wizualizacji8przebiegów,8Numeric8Control8zadajnik8czasu8stopera,8NumericString8Display8bêdzie8pokazywa³8pozosta³¹8iloœæ8sekund,8Indicator8wska¿e8w³¹czenie8stopera8oraz8kilka8przycisków8MENU8dla8sterowania8przebiegiem8strategii.8Zalecane8jest8aby8na8ka¿dym8etapie8tworzenia8strategii8korzyst8aæ8z8informacji8pomocniczych8HELPów8dotycz¹cych8u¿ywanych8elementów.8Jako8sygna³y8analogowe8wykorzystamy8przebiegi8demonstracyjne8z8urz¹dzenia8Advantech8DEMO8IO.8Jest8ono8przypisane8do8adresu8H8i8posiada8trzy8kana³y88sinus8,8prostok¹t,88pi³a.8Wszystkie8przebiegi8maj¹8amplitudê8od88do8.8Dwukrotne8klikniêcie8ikony8AI8pozwala8na8dostêp8do8pól8konfiguracyjnych.8Poszczególnym8wejœciom8analogowym8przypisujemy8odpowiedni8kana³8urz¹dzenia.8Warto8te¿8w8polu8Description8wpisaæ8nazwê8sygna³u8u³atwia8to8póŸniej8szybk¹8orientacjê8w8strategii.8Aby8poznaæ8w8pe³ni8mo¿liwoœci8konfiguracyjne8wejœæ8analogowych8zajmiemy8siê8skalowaniem8przebiegów.8Docelowo8maj¹8one8mieæ8nastêpuj¹ce8zakresy8sinus8od88do8,8prostok¹t8od88do8.8a8pi³a8od88do8.8W8tym8celu8na8ikonie8odpowiedniego8wejœcia8analogowego8naciskamy8klawisz8Scaling.8W8menu8SCALING8zaznaczamy8pole8Enable8scaling8i8wype³niamy8odpowiednimi8wartoœciami8pozosta³e8pola.8Rysunek8prezentuje8skalowanie8przebiegu8prostok¹tnego.8Wartoœci8wej8œciowe8to88a8wyjœciowe8..8Zatwierdzenie8wprowadzonych8wartoœci8nastêpuje8poprzez8naciœniêcie8przycisku8OK.8Powtórne8wciœniêcie8tego8przycisku8w8menu8konfiguracyjnym8koñczy8konfiguracjê8danego8wejœcia8analogowego.8W8nastêpnej8kolejnoœci8trzeba8skon8figurowaæ8zegarek.8Nazwijmy8go8Description8STOPER,8ka¿my8zliczaæ8czas8up³ywaj¹cy8Timer8Type8Elapsed8time8wyra¿any8w8sekundach8Resolution8Second8i8wy³¹czmy8zapêtlenie8Cycle8None.8Teraz8warto8wróciæ8go8Displaya8i8ponazywaæ8na8nim8wszelkie8przyciski.8Zaczynamy8od8przycisków8MENU.8Trzy8z8nich8bêd¹8odpowiednio8wstrzymywa³y,8wznawia³y8i8koñczy³y8dzia³anie8strategii.8Opisujemy8je8wiêc8w³aœciwymi8nazwami8i8przypisujemy8prawid³ow¹8akcjê.8Mo¿e8wyst¹piæ8koniecznoœæ8zwiêkszenia8wymiarów8klawiszy8ab8y8ich8nazwy8by³y8w8pe³ni8widoczne.8Pozosta³e8dwa8klawisze8MENU8bêd¹8s³u¿y³y8do8prze³¹czania8ekranów.8Aby8by³o8to8mo¿liwe8nale¿y8zdefiniowaæ8dodatkowe8Displaye.8Robimy8to8poprzez8menu8robocze8FILE8ADDDELETE8ADD8DISPLAY.8Dwukrotne8powtórzenie8tej8operacji8powinno8zaowocowaæ8zaistnieniem8w8strategii8trzech8ekranów8DISP,8DISP8i8DISP.8Teraz8mo¿na8ju¿8przypisaæ8odpowiednim8przyciskom8prze³¹czanie8na8w³aœciwy8ekran.8Przy8przycisku8Conditonal8Button8ograniczmy8siê8na8razie8do8nadania8mu8nazwy8S8TART.8Numeric8Control8zadajnik8czasu8dzia³ania8stopera8ustawmy8nastêpuj¹co8liczby8ca³kowite8Integer,8zakres8zmian8od88do8,8krok8,8wartoœæ8pocz¹tkowa8.8Pole8wyœwietlacza8cyfrowego8NumericString8Display8nale¿y8przestawiæ8na8liczby8ca³kowite.8Nieco8bardziej8z³o¿ona8jest8konfiguracja8Trend8Grapha.8Po8pierwsze8trzeba8okreœliæ8zakresy8osi8pionowa8od88do8,8pozioma8w³aœciwe8dowolna8mo¿na8zostawiæ8domyœlne88do8.8Nastêpnie8u¿ywaj¹c8przycisku8ADD8trzeba8podpi¹æ8sygna³y8i8nadaæ8im8kolory.8Po8wykonaniu8opisanych8wy¿ej8czynnoœci8i8odpowiednim8ustawieniu8wielkoœci8poszczególnych8elementów8nasz8DISP8powinien8wygl¹daæ8nastêpuj¹co8Wygl¹d8i8zawartoœæ8pozosta³ych8dwóch8ekranów8pozostawia8siê8inwencji8studentów.8Mo¿na8na8nich8nawet8nic8nie8umieszczaæ,8choæ8wskazane8jest8zainstalowanie8przycisków8MENU8do8prze³¹czania8ekranów.8Najwy¿sza8pora8na8odpowiednie8podpiêcie8sygna³ów8na8TASKu.8W8pierwszej8kolejnoœci8nale¿y8przypisaæ8TAGom8elementy8z8DISP,8a8mianowicie8przycisk8START8i8zadajnik8wartoœci8cyfrowej.8Nastêpnie8uaktywniaj¹c8ikonê8przewodu8z8TOOLBOXa8trzeba8po³¹czyæ8odpowiednie8bloki.8TAG8powi¹zany8z8przyciskiem8STRAT8nale¿y8podpi¹æ8do8zeruj¹cego8Reset8wejœcia8zegarka.8W8pierwszej8operacji8matematycznej8SOC8nale¿y8od8TAG8a8po³¹czonego8z8cyfrowym8polem8zadajnika8z8DISP8odj¹æ8wartoœæ8wyjœcia8zegarka.8Nastêpnie8w8SOC8trzeba8sprawdziæ8czy8wynik8SOC8jest8wiêkszy8od8.8Podpinaj¹c8wyjœcie8zegarka8i8SOC8do8SOC8sprawdzamy8czy8prawd¹8jest,8¿e8wyjœcie8zegarka8jest8wiêksze8o8d8zera8i8mniejsze8od8zadanej8wartoœci8sekund.8Operacja8negacji8ustawiona8w8SOC8konieczna8jest8dla8prawid³owego8wy³¹czania8przycisku8START.8Powracamy8do8DISP8i8koñczymy8konfiguracjê8sygna³ów.8Do8wyœwietlacza8wartoœci8cyfrowych8pod³¹czamy8SOC8ró¿nica8war8toœci8zadanego8czasu8i8wyjœcia8z8zegarka8a8do8pola8wskaŸnika8wynik8SOC.8Pozostaje8jeszcze8skonfigurowanie8przycisku8warunkowego8START.8Poniewa¿8zerowanie8zegarka8aktywowane8jest8stanem8wysokim,8nale¿y8odwróciæ8dzia³anie8przycisku8START8gdy8nie8jes8t8wciœniêty8daje8.8Wejœcie8warunkowe8przycisku8nale¿y8pobraæ8z8SOC.8Aby8nasza8strategia8dzia³a³a8doœæ8szybko8zmieniamy8w8SETUP8TASK8PROPERTIES8okres8skanowania8na8ms.8Po8zapisaniu8na8dysk8naszej8strategii8mo¿na8j¹8uruchomiæ.8Po8uruchomieni8u8powinna8ona8wygl¹daæ8tak8Wskazane8s¹8wszelkiego8rodzaju8eksperymenty8rozbudowuj¹ce8dzia³anie8opisanej8strategii.8Szerokim8polem8do8popisu8s¹8dwa8niewykorzystane8ekrany.8Uk³ad9sterowania9ogniw9s³onecznych.9Cel9æwiczenia.9Stworzenie9za9awansowanej9aplikacji9steruj¹cej9ruchem9w9nad¹¿nym9systemie9ogniw9s³onecznych.9Jako9sprzêt9poœrednicz¹cy9miêdzy9komputerem9a9obiektem9starowania9wykorzystano9modu³y9DAQ9rodziny9ADAM.9Aplikacja9steruj¹ca9tworzona9jest9w9œrodowisku9AdamView9.9Opis9aparat9ury.9Podrêcznik9u¿ytkownika9VisiDAQ9plik9VisiDaq.pdf9VisiDaq9jest9wczeœniejsz¹9wersj¹9œrodowiska9AdamView9,9opisy9techniczne9modu³ów9DAQ9ADAM9odpowiedni9katalog9na9stronie9internetowej9.9Stanowisko9zosta³o9zmodernizowane9w9roku99w9wyniku9realizacji9pracy9in¿ynierskiej9Aleksander9Pasiut9Ci¹g³e9st9erowanie9w9nad9¹¿nym9systemie9fotowoltaicznym.9Wiêkszoœæ9zdjêæ9i9schematów9zamieszczonych9poni¿ej9pochodzi9w³aœnie9z9tej9pracy.9Fot.9.9Model9nad¹¿nego9uk³adu9ogniw9fotowoltaicznych9Opis9stanowiska.9Stanowisko9laboratoryjne9sk³ada9siê9z9mod9elowego9uk³adu9œledzenia9pozycji9S³oñca,9pozwalaj¹cego9na9niezale¿ny9obrót9baterii9s³onecznych9wokó³9osi9pionowej9azymut9i9poziomej9elewacja.9Uk³ad9mechaniczny9posiada9kierunkowy9czujnik9oœwietlenia,9czujniki9aktualnej9pozycji9fotoogniw9oraz9krañcowe9czujniki9i9wy³¹czniki9ruchudzia³aj¹ce9ca³kowicie9niezale¿nie9od9sterowania9i9zabezpieczaj¹ce9uk³ad9przed9uszkodzeniem.9Silniki9zasilane9s¹9pr¹dem9sta³ym9o9napiêciu9V.9Sterowanie9silnikami9odbywa9siê9za9pomoc¹9czterech9przek9aŸników9sterowanych9wyjœciami9cyfrowymi9modu³u9ADAM.9PrzekaŸniki9tworz¹9dwa9mostki9H9pozwalaj¹c9na9ca³kowicie9niezale¿ne9st9erowanie9kierunkiem9obrotów9osi9elewacji9i9azymutu.9Równie¿9prêdkoœæ9obrotowa9tych9silników9jest9regulowana9niezale¿nie.9S³u¿¹9do9tego9dwa9tra9nzystory9IRLZN9sterowane9sy9gna³ami9napiêciowymi9z9analogowych9wyjœæ9modu³u9ADAM9.9Sygna³y9napiêciowe9z9czujnika9oœwietlenia9i9czujnika9po³o¿enia9fotoogniw9podawane9s¹9na9wejœcia9modu³u9ADAM9natomiast9dyskretne9sygna³y9z9wy³¹czników9krañcowych9odbiera9modu³9ADAM.9Wszystkie9modu³y9po³¹czone9s¹9wspóln¹9magistral¹9RS9i9dalej9za9poœrednict9wem9modemu9radiowego9z9komputerem.9Fot.9.9Modu³y9kontrolno9pomiarowe9ADAM9Sposób9sterownia9silnikami9przedstawiono9na9rys..9.9Rys.9.9Uk³ad9sterowania9kierunkiem9obrotu9i9prêdkoœci¹9obrotow¹9obu9silników9A.9Pasiut99Sygna³y9pomiarowe9i9st9eruj¹ce9obiektem9oœwietlenie9pa9daj¹ce9z9góry9ADAM9adres999kana³99AI9oœwietlenie9padaj¹ce9z9do³u9ADAM9adres999kana³99AI9oœwietlenie9padaj¹ce9z9lewa9ADAM9adres999kana³99AI9oœwietlenie9padaj¹ce9z9prawa9ADAM9adres999kana³99AI9pozycja9w9pionie9elewacja9ADAM9adres999kana³99AI9pozycja9w9poziomie9azymut9ADAM9adres999kana³99AI9sygnalizacja9górnego9wy³.9krañcowego9ADAM9adres999bit99DI9sygnalizacja9dolnego9wy³.9krañcowego9ADAM9adres999bit99DI9sygnalizacja9lewego9wy³.9krañcowego9ADAM9adres99bit99DI9sygnalizacja9prawego9wy³.9krañcowego9ADAM9adres999bit99DI9Sygnalizacja9jest9w9logice9odwróconej9normalnie9logiczna99,9a9gdy9wy³¹cznik9zadzia³a9to9logiczne9.9sterowanie9kierunkiem9ruchu9silnika9elewacji9ADAM9adres999bit99i99DO9sterowanie9kierunkiem9ruchu9silnika9azymutu9ADAM9adres999bit99i99DO9sterowanie9prêdkoœci¹9ruchu9silnika9elewacji9ADAM99adres999bit99AO9sterowanie9prêdkoœci¹9ruchu9silnika9azymutu9ADAM99adres999bit99AO9Wykonanie9æwiczenia.9Æwiczenie9polega9na9stworzeniu9aplikacji9w9œrodowisku9AdamView9nadzoruj¹cej9pracê9nad¹¿nego9uk³adu9fotoogniw.9Aplikacja9powinna9umo¿liwiaæ9rêczne9sterowanie9systemem9prêdkoœci¹9i9kierunkiem9ruchu9w9ka¿dej9z9osi9.9Nale¿y9em9pirycznie9sprawdziæ9zakres9napiêæ9na9wyjœciach9analogowych,9pozwalaj¹cy9na9zmianê9prêdkoœci9obrotowej9silników.9Na9pa9nelu9operatorskim9powinny9znaleŸæ9siê9wskaŸniki9obrazuj¹ce9aktualne9ustawienie9fotoogniw,9zadzia³anie9wy³¹czników9krañcowych,9odczyty9z9czujnika9oœwietlenia9i9klawisze9do9sterowania9rêcznego.9Rys.9.9Zakresy9ruchu9obiektu9w9obu9osiach9A.Pasiut,99Sygna³y9napiêciowe9z9czujników9po³o¿enia9nale¿y9przeliczyæ9na9pozycjê9azymutu9i9elewacji9wyra¿on¹9w9stopniach.9Skrajne9wartoœci9k¹9tów9w9obu9osiach9pod9ane9s9¹9na9rys9..9Pocz¹tkowo9do9reali9zacji9tego9ce9lu9mo¿na9u¿yæ9funkcji9Scaling9dostêpnej9w9bloczku9wejœcia9analogowego,9jednak9w9dalszej9czêœci9operacjê9trz9eba9bêdzie9przeprowadziæ9przy9u9¿yciu9bloków9elementarnych9funkcji9matematycznych9i9czterech9wirtualnych9tagów9.9Inn¹9opcj¹9jest9napisanie9odpowiedniego9skryptu.9Procedura9skalowania9powinna9wygl¹daæ9nastêpuj¹co9za9pomoc¹9klawiszy9sterowania9rêcznego9na9panelu9operatorskim9doprowadziæ9ogniwa9w9skrajne9lewe9górne9po³o¿enie9zadzia³aj¹9sygnalizatory9wy³¹czników9krañcowych9odczytaæ9i9zanotowaæ9wartoœci9nap9iêæ9z9czujników9po³o¿enia9dok³adnoœæ9dwa9miejsca9po9przecinku9odczytaæ9i9zanotowaæ9wartoœci9k¹tów9azymutu9i9elewacji9z9rys.9.9uwaga9k¹ty9azymutu9mog¹9przyjmowaæ9równie¿9wartoœci9ujemne9powtórzyæ9czynnoœci9dla9skrajnego9prawego9dolnego9po³9o¿enia9ogniw9zanotowane9wartoœci9k¹tów9i9napiêæ9wpisaæ9w9odpowiednie9rubryki9menu9skalowania9wejœcia9analogowego.9Drug¹9cz9êœci¹9æwicze9nia9jest9napisanie9osobnego9Task9a9dokonuj¹cego9automatycznej9procedury9skalowania9odczytów9z9czujników9po³o¿enia.9Wymaga9to9przejœcia9przez9ca³e9zakresy9ruchu9w9obu9osiach9z9zapisywaniem9najwiêkszej9i9najmniejszej9wartoœci9odczytanej9z9danego9czujnika9do9odpowiedniej9pary9wirtualnych9tag9ów.9Wartoœci9z9wi9rtualnych9tagów,9równoczeœnie9z9aktualnym9stanem9czujnika9po³o¿enia9w9danej9osi9stanowi¹9dane9wejœciowe9dla9wzorów9przeliczaj¹cych9po³o¿enie9z9sygna³u9napiêciowego9na9wartoœæ9k¹tow¹.9Tworz¹c9te9wzory9warto9skorzystaæ9z9opisu9funkcji9Scaling9w9bloczku9wejœcia9analogowego.9Przy9obserwacji9pomiarów9oœwietlenia9mo¿na9pos³u¿yæ9siê9reflektorem9halogenowym9przymocowanym9do9metalowego9rega³u.9Rozwiniêciem9nieobowi¹zk9owym9æwiczenia9jest9próba9stworzenia9aplikacji9automatycznie9œledz¹cej9Ÿród³o9œwiat³a.9Sprawozdanie.9Sprawozdanie9powinno9zawieraæ9krótkie9omówienie9istoty9sterowania9nad¹¿nym9uk³adem9fotowoltaicznym.9Dalej9nale¿y9umieœciæ9schemat9stanowiska9laboratoryjn9ego9uwzglêdniaj¹cy9wszystkie9sygna³y9pomiarowe9i9sprzêt9s³u¿¹cy9do9ich9przetwarzania.9W9koñcowej9czêœci9ma9siê9znaleŸæ9dok³adny9opis9stworzonej9aplikacji9równie¿9rysunki9oraz9omówienie9problemów9i9ograniczeñ,9które9wyst¹pi³y9podczas9pracy.9Zakres9wymaga9nych9wiadomoœci.9Zasady9tworzenia9aplikacji9w9œrodowisku9Genie9.,9budowa,9dzia³anie9i9sposoby9programowania9modu³ów9zdalnej9akwizycji9danych9i9sterowania9szczególnie9ADAM,9ADAM,9ADAM9,9zasady9budowania9rozproszonych9systemów9sterowania9w9opa9rciu9o9magistralê9RS.Materia³y9pomocnicze9do9æwiczenia9.9Zagadnienia9odpowiedniego9podpinania9i9skalowania9kana³ów9analogowych9zosta³y9omówione9w9materia³ach9pomocniczych9do9æwiczenia99dlatego9te¿9tym9razem9zajmiemy9siê9wejœciami9i9wyjœciami9dyskretn9ymi9oraz9uk³adami9logicznymi9z9wykorzystaniem9klawiszy.9Naszym9zadaniem9bêdzie9zbudowanie9enkodera9liczb9dziesiêtnych9od99do99na9binarne99bity.9Liczbê9binarn¹9wyœlemy9na9wyjœcia9dyskretne9i9kontrolnie9odczytamy9j¹9z9wejœæ9dyskretnych9wykorzystuj¹c9wirtualne9po³¹czenie9odpowiednich9kana³ów9dyskretnych9urz¹dzenia9ADVANTECH9DEMO9IO.9Rozpoczêcie9tworzenia9nowej9strategii9zosta³o9omówione9w9materia³ach9pomocniczych9do9æwiczenia99dlatego9zostanie9tutaj9pominiête.9W9obszarze9roboczym9DISP9umieszczamy9c9ztery9klawiszezadawanie9wartoœci9dziesiêtnej,9dwa9pola9sygnalizacyjnesygnalizacja9bitów9liczby9binarnej9i9kilka9pól9tekstowych,9które9pozwol¹9czytelnie9opisaæ9panel9operatorski.9Nale¿y9siê9zastanowiæ9nad9sposobem9przeliczania9liczb9z9postaci9dysk9retnej9na9binarn¹.9Zbudujmy9tabelkê9prawdy9dla9zadanego9zakresu9liczb9L.9dziesiêtna9L.9binarna9Bit99Bit99999999999999Z9tabelki9jasno9widaæ,9¿e9bit99jest9uaktywniony9gdy9wciœniêty9jest9klawisz99lub99a9bit99gdy9wciœniête9s¹9klawi9sze99lub9.9Wynika9z9tego,9¿e9poszczególne9bity9mog¹9byæ9sterowane9wartoœciami9operacji9sumy9logicznej9or9w³aœciwych9sygna³ów9wejœciowych.9Po9tych9rozwa¿aniach9teoretycznych9przystêpujemy9do9konfiguracji9obszaru9TASKa.9Umieszczamy9na9nim9piêæ9TAG9ów9do9odpowiednich9klawiszy,9dwa9bloki9operacji9matematycznych,9dwa9wejœcia9dyskretne9i9dwa9wyjœcia9dyskretne.9Warto9teraz9na9chwilê9wróciæ9do9DISP9i9skonfigurowaæ9klawisze.9Po9pierwsze9trzeba9nadaæ9im9nazwy9,,9i9,9ustawiæ9ich9typ9na9RADIO9BUTTO9N9wciœniêcie9jednego9klawisza9zwalnia9pozosta³e9i9zaznaczyæ9relacje9wzajemnego9zwalniania.9Powy¿sze9rysun9ki9przedstawiaj¹9konfiguracjê9klawiszy99i9.9W9oknie9Buttons9to9eject9when9pressed9poprzez9dwukrotne9klikniêcie9na9nazwê9zaznaczamy9klawi9sze,9które9maj¹9zostaæ9zwolnione9przy9wciœniêciu9klawisza9obecnie9konfigurowanego.9Wracamy9do9TASKa9i9³¹czymy9TAGi9z9klawiszami.9Nastêpnie9konfigurujemy9bloki9wejœæ9i9wyjœæ9dyskretnych.9W9blokach9operacji9matematycznych9ustawiamy9operacjê9or9i9³¹czymy9wszystkie9ikony9na9TASKu.9Koñcowa9konfiguracja9DISP9polega9na9podpiêciu9pól9wskaŸników9logicznych9do9odpowiednich9wejœæ9dyskretnych9i9nadaniu9im9kolorów9aktywny9czerwony,9nieaktywny9zielony.9Za9pomoc¹9pól9tekstowych9mo¿na9jednoznacznie9opisaæ9elementy9wystêpuj¹ce9na9panelu9operatorskim.9W9efekcie9koñcowym9panel9operatorski9mo¿e9wygl¹daæ9na9przyk³ad9tak9Pozostaje9tylko9ustawienie9okresu9skanowania9na9ms9SETUP9Task9Properties,9nagranie9strategii9na9dysk9pod9dowoln¹9nazw¹9i9m9o¿na9przetestowaæ9jej9dzia³anie9RUN9START.9Dodatek9.9Laboratoryjny9obiekt9regulacji.9Stosowany9w9Laboratorium9Aparatury9Automatyzacji9eksperymentalny9obiekt9regulacji9jest9obiektem9typu9cieplnego,9przy9czym9zarówno9sygna³9steruj¹cy9obiekt,9jak9i9sygna9³9wyjœciowy9maj¹9charakter9elektryczny9ze9znormalizowanego9zakresu999mA.9Widok9obiektu9pokazany9jest9na9fot.9D,9a9jego9uproszczona9budowa9na9rys.9D9Fot.9D9Widok9obiektu9regulacji9APUwejœcie999mAwyjœcie999mA99.9A99mVmostek9mostek9mostek9mostek9prêtAPUwejœcie999mAwyjœcie999mA99.9A99mV9obudowa999mostek9mostek9mostek9mostek9prêt9Rys.9D.9Uproszczony9schemat9obie9ktu9laboratoryjnego.9Obiekt9jest9prêtem9metalowym9miedzianym9d³ugoœci99mm9umieszczonym9w9obudowie9zapewniaj¹cej9izolacjê9termiczn¹9od9otoczenia.9Obiekt9jest9ogrzewany9elementem9grzejnym9zamocowanym9na9jednym9z9koñców.9Temperatura9prêta9jest9mierz9ona9termometrami9rezystancyjnymi9nawiniêtymi9w9punktach9.,9.,9.9oraz9.9d³ugoœci9prêta.9Sygna³em9wejœciowym9obiektu9jest9sygna³999mA9podawany9na9wejœciowy9wzmacniacz9mocy.9Na9wyjœciu9wzmacniacza9otrzymujemy9sygna³9z9zakresu99.9A9propor9cjonalny9do9sygna³u9wejœciowego,9który9jest9podawany9na9element9grzejny.9Zmiana9temperatury9prêta9powoduje9zmianê9rezystancji9termometrów9oporowych9nawiniêtych9na9prêt.9Zmiana9rezystancji9termometru9jest9przetwarzana9na9zmianê9napiêcia9na9wyjœciu9mostka9po9miarowego.9Zmiana9ta9zawiera9siê9w9zakresie999mV.9Napiêcie9z9mostka9jest9podawane9na9przetwornik9pomiarowy9APU9,9na9którego9wyjœciu9otrzymujemy9sygna³9pr¹dowy9z9zakresu999mA,9który9jest9sygna³em9wyjœciowym9obiektu.9Wyboru9wyjœcia9obiektu9doko9nuje9siê9prze³¹cznikiem,9poprzez9prze³¹czenie9odczytu9temperatury9z9wybranego9czujnika9zob.9rysunek9.9UWAGA9Opisywany9obiekt9jest9najlepiej9widoczny9przy9stanowisku9æwiczeniowym9dla9æwiczenia9nr99bezpoœrednie9sterowanie9cyfrowe9.9W9niniejszym9opisi9e9dla9u³atwienia9nie9uwzglêdniono9uk³adu9kompensacji9temperatury,9który9znajduje9siê9w9rzeczywistych9obiektach.9Przy9æwiczeniu9nr99na9sta³e9pod³¹czone9jest9wyjœcie9obiektu9nr99termometr9oporowy9w9po³owie9d³ugoœci9prêta9nie9ma9mo¿liwoœci9prze³¹czeni9a.9Z9punktu9widzenia9automatyki9jako9obiekt9regulacji9traktowana9jest9ca³oœæ,9tj.9prêt9wraz9z9wzmacniaczem9wejœciowym,9elementem9grzejnym,9termometrami9oporowymi9oraz9przetwornikiem9APU9.9Jest9to9uzasadnione9faktem,9¿e9dynamika9elementów9wejœciowych9i9wyjœciowych9wzmacniacz9mocy,9termometry9oporowe,9przetwornik9APU99jest9pomijalnie9ma³a9w9porównaniu9z9prêtem.9Rozwa¿any9obiekt9regulacji9mo¿e9byæ9uwa¿any9z9a9obiekt9liniowy9tylko9w9pewnym9ograniczonym9zakresie9sygna³ów9wejœciowych9od9ok.99do9ok.99wartoœci9maksymalnej9i9przy9doborze9punktu9pracy9na9liniowej9czêœci9charakterystyki9statycznej9mo¿e9byæ9opisany9modelem9w9postaci9transmitancji9I9rzêdu9z9opóŸnieniem9maj¹cej9postaæ9Gske9sTs99Parametry9zastêpcze9tego9modelu9mog¹9byæ9wyzn9aczone9drog¹9identyfikacji9obiektu9na9podstawie9odpowiedzi9na9skok9jednostkowy9charakterystykê9skokow¹9nale¿y9zmierzyæ9na9liniowej9czêœci9charakterystyki9statycznej9.9Wartoœæ9wzmocnienia9statycznego9obiektu9k9jest9w9przybli¿eniu9równa9k9..9By³o9to9mo¿liwe9do9osi¹gniêcia9dziêki9odpowiedniemu9doborowi9parametrów9mostków9pomiarowych.9Wartoœci9pozosta³ych9parametrów9zastêpczych9modelu9bêd¹9ró¿ne9w9zale¿noœci9od9wyjœcia9obiektu9oraz9sytuacji,9czy9rozwa¿amy9grzanie9czy9ch³odzenie9obiektu.9Ich9przybli¿ona9wartoœæ9jest9równa9Wyjœcie9obiektu9Grzanie9Ch³odzenie9T9s9s9T9s9s999.9.999.9.9.9.99.9.9999.9.9.9.9Literatura99Findeisen9W.9Technika9regulacji9automatycznej9PWN9W9a9.99Kwa9œniewski9J.9Wprowadzenie9do9inteligentnych9przetworników9pomiarowych,9WNT9W9a9.99Kwaœniewski9J.9Programowalne9sterowniki9przemys³owe9w9systemach9sterowania9Kraków9.99Bateson9R.9N.9Introduction9to9control9system9technology9Prentice9Hal9l9.99Legierski9T.9i9inni9Programowanie9sterowników9PLC9Wyd.9Prac.9Komp.9J.9Skalmierski,9Gliwice9.99Nise9N.9S.9Control9systems9engineering9Wiley9Sons,9New9York9.99Shell9E.9D.9Hall9E.9L.9editors9Handbook9of9industrial9autom9ation9Marcel.9Dekker,9New9York,9Basel9.99Skoczowski9S.9Technika9regulacji9temperatury9PAR9.99Takahashi9Y.9Sterowanie9i9systemy9dynamiczne9WNT9W9a9.99Tuszyñski9K.9,9Walewski9M.9Regulacja9automatyczna9w9in¿ynierii9chemicznej9WNT9W9a9.99Trybus9L.9Regulatory9wielofunkcyjne9WNT9W9a9.99Werewka9J.9Systemy9rozproszone9sterowania9i9akwizycji9danych,9sterowniki9Wyd.9Katedry9Automatyki9AGH,9.99p.r.9Wiszniewski9A.9Teoria9sterowania.9Æwiczenia9laboratoryj9ne9Wyd.9Pol.9Wr.9Wroc³aw9.99J.Kwaœniewski9Sterowniki9SIMATIC9S99w9praktyce9in¿ynierskiej.9Wydawnictwo9BTC9Legionowo99